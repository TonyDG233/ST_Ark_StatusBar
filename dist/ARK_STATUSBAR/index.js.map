{"version":3,"file":"index.js","mappings":"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","sources":["webpack://tavern_helper_template/src/ARK_STATUSBAR/components/StartupNavigator.vue?dee9","webpack://tavern_helper_template/src/ARK_STATUSBAR/components/ReturnButton.vue?2f86","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/listToStyles.js","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js","src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/exportHelper.js","webpack://tavern_helper_template/src/ARK_STATUSBAR/components/StartupNavigator.vue?8dd4","webpack://tavern_helper_template/src/ARK_STATUSBAR/components/ReturnButton.vue?9ed0","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/webpack/runtime/make namespace object","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/ARK_STATUSBAR/components/ReturnButton.vue","webpack://tavern_helper_template/src/ARK_STATUSBAR/components/ReturnButton.vue?6f08","src://tavern_helper_template/src/ARK_STATUSBAR/config/assets.ts","src://tavern_helper_template/src/ARK_STATUSBAR/config/scenarios.ts","src://tavern_helper_template/src/ARK_STATUSBAR/config/baseline.ts","src://tavern_helper_template/src/ARK_STATUSBAR/config/single_char_entries.ts","src://tavern_helper_template/src/ARK_STATUSBAR/logic/worldbook_manager.ts","src://tavern_helper_template/src/ARK_STATUSBAR/components/StartupNavigator.vue","webpack://tavern_helper_template/src/ARK_STATUSBAR/components/StartupNavigator.vue?dd74","src://tavern_helper_template/src/ARK_STATUSBAR/index.ts","src://tavern_helper_template/src/util/script.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;700&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.ark-startup-container[data-v-48aca5cd]{display:flex;justify-content:center;align-items:center;width:100%;--ui-bg:#fafafa;--ui-text-main:#1a1a1a;--ui-text-secondary:#2a2a2a;--ui-border-primary:#e8e8e8;--ui-accent:#1a1a1a;--warning-accent:#FFA726;--panel-width:300px}.ark-startup-container.dark-theme[data-v-48aca5cd]{--ui-bg:rgba(20,20,20,0.85);--ui-text-main:#e0e0e0;--ui-text-secondary:#b0b0b0;--ui-border-primary:#444;--ui-accent:#4FC3F7}.main-container[data-v-48aca5cd]{width:100%;max-width:900px;background:var(--ui-bg);backdrop-filter:blur(10px);border-radius:4px;border:1px solid var(--ui-border-primary);position:relative;overflow:hidden;transition:background-color 0.3s,border-color 0.3s;font-family:'Noto Serif SC',serif}.content-wrapper[data-v-48aca5cd]{padding:50px 40px;position:relative;z-index:3}.header-section[data-v-48aca5cd]{text-align:center;margin-bottom:50px;padding-bottom:30px;border-bottom:1px solid var(--ui-border-primary)}.arknights-logo[data-v-48aca5cd]{width:300px;height:auto;transition:filter 0.3s}.dark-theme .arknights-logo[data-v-48aca5cd]{filter:invert(1) brightness(0.8)}.author-info[data-v-48aca5cd]{font-size:1em;color:var(--ui-text-secondary);margin-bottom:5px;font-weight:300}.copyright-notice[data-v-48aca5cd],.usage-instructions[data-v-48aca5cd],.warning-box[data-v-48aca5cd]{background:rgba(128,128,128,0.1);padding:20px;margin:30px 0;border-left:3px solid var(--ui-accent);font-size:0.9em;line-height:1.8;color:var(--ui-text-secondary)}.usage-instructions[data-v-48aca5cd]{background:rgba(255,167,38,0.1);margin:20px 0 30px 0;border-left:3px solid var(--warning-accent)}.warning-box[data-v-48aca5cd]{background-color:rgba(255,165,0,0.1);border-left-color:var(--warning-accent);margin-bottom:20px;border:1px solid rgba(255,165,0,0.5);border-radius:4px}.section-title[data-v-48aca5cd]{font-size:1.5em;font-weight:500;color:var(--ui-text-main);margin:40px 0 20px 0;padding-bottom:10px;border-bottom:2px solid var(--ui-accent);letter-spacing:2px}.intro-desc[data-v-48aca5cd]{font-size:1em;color:var(--ui-text-secondary);line-height:1.8;margin-bottom:30px}.opening-grid[data-v-48aca5cd]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:30px}.opening-card[data-v-48aca5cd]{background:transparent;border:1px solid var(--ui-border-primary);padding:25px;cursor:pointer;transition:all 0.3s ease;position:relative}.opening-card[data-v-48aca5cd]:hover{transform:translateY(-3px);border-color:var(--ui-accent);background-color:rgba(128,128,128,0.05)}.opening-title[data-v-48aca5cd]{font-size:1.2em;font-weight:500;color:var(--ui-text-main)}.opening-info[data-v-48aca5cd]{font-size:0.85em;color:var(--ui-text-secondary);margin-top:4px;opacity:0.8}.info-label[data-v-48aca5cd]{font-weight:bold;opacity:0.7}.settings-panel[data-v-48aca5cd]{position:absolute;top:0;right:calc(var(--panel-width) * -1);width:var(--panel-width);height:100%;background-color:var(--ui-bg);backdrop-filter:blur(12px);border-left:1px solid var(--ui-border-primary);z-index:1000;padding:20px;transition:right 0.4s cubic-bezier(0.25,0.8,0.25,1);box-sizing:border-box}.settings-panel.is-open[data-v-48aca5cd]{right:0}.settings-overlay[data-v-48aca5cd]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);z-index:999;backdrop-filter:blur(2px)}.settings-tab[data-v-48aca5cd]{position:absolute;top:20px;right:0px;width:50px;height:50px;background-color:var(--ui-bg);border:1px solid var(--ui-border-primary);border-right:none;border-top-left-radius:6px;border-bottom-left-radius:6px;cursor:pointer;z-index:1001;display:flex;justify-content:center;align-items:center;color:var(--ui-text-secondary);transition:right 0.4s cubic-bezier(0.25,0.8,0.25,1)}.settings-tab.is-open[data-v-48aca5cd]{right:var(--panel-width)}.settings-divider[data-v-48aca5cd]{height:1px;background-color:var(--ui-border-primary);margin:20px 0}.theme-buttons-container[data-v-48aca5cd]{display:flex;flex-direction:column;gap:10px;margin-top:15px}.theme-button[data-v-48aca5cd]{width:100%;height:50px;border-radius:4px;cursor:pointer;border:2px solid var(--ui-border-primary);position:relative;display:flex;align-items:center;justify-content:center}.theme-button.light[data-v-48aca5cd]{background-color:#fafafa;color:#1a1a1a}.theme-button.dark[data-v-48aca5cd]{background-color:#2a2a2a;color:#e0e0e0}.theme-button.active[data-v-48aca5cd]{border-color:var(--ui-accent)}.theme-button[data-v-48aca5cd]{padding:5px}.theme-button span[data-v-48aca5cd]{position:absolute;bottom:5px;right:10px;font-size:0.8em;font-weight:bold}.setting-item[data-v-48aca5cd]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}h3[data-v-48aca5cd]{color:var(--ui-text-main);font-weight:500;font-size:1.2em}.wb-status-display[data-v-48aca5cd]{padding:15px;margin-bottom:20px;background:rgba(0,0,0,0.05);border-left:4px solid #999;position:relative;overflow:hidden}.wb-status-display .status-label[data-v-48aca5cd]{font-size:0.7em;letter-spacing:2px;color:var(--ui-text-secondary);margin-bottom:5px}.wb-status-display .status-value[data-v-48aca5cd]{font-size:1.2em;font-weight:bold;letter-spacing:1px}.wb-status-display .status-decor[data-v-48aca5cd]{position:absolute;top:0;right:0;width:20px;height:20px;background:linear-gradient(45deg,transparent 50%,rgba(255,255,255,0.1) 50%)}.status-green[data-v-48aca5cd]{border-left-color:#4CAF50;color:#4CAF50;background:rgba(76,175,80,0.05)}.status-blue[data-v-48aca5cd]{border-left-color:#2196F3;color:#2196F3;background:rgba(33,150,243,0.05)}.status-orange[data-v-48aca5cd]{border-left-color:#FF9800;color:#FF9800;background:rgba(255,152,0,0.05)}.wb-actions[data-v-48aca5cd]{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}.ark-btn[data-v-48aca5cd]{position:relative;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid var(--ui-border-primary);background:var(--ui-bg);transition:all 0.2s ease;overflow:hidden}.ark-btn .btn-content[data-v-48aca5cd]{display:flex;align-items:center;gap:10px;z-index:2;transition:all 0.2s}.ark-btn .btn-text[data-v-48aca5cd]{font-weight:bold;letter-spacing:1px;text-transform:uppercase;font-size:0.9em}.ark-btn.warning[data-v-48aca5cd]{border-color:#FF9800;color:#FF9800}.ark-btn.warning[data-v-48aca5cd]:hover{background:#FF9800;color:#fff}.ark-btn.danger[data-v-48aca5cd]{border-color:#F44336;color:#F44336}.ark-btn.danger[data-v-48aca5cd]:hover{background:#F44336;color:#fff}.ark-btn[data-v-48aca5cd]::after{content:'';position:absolute;top:0;right:0;width:0;height:0;border-style:solid;border-width:0 10px 10px 0;border-color:transparent currentColor transparent transparent;opacity:0.5}.ark-btn[data-v-48aca5cd]:active{transform:scale(0.98)}@media (max-width:768px){.ark-startup-container[data-v-48aca5cd]{--panel-width:210px}.settings-panel[data-v-48aca5cd]{padding:12px}.wb-status-display[data-v-48aca5cd]{padding:10px}.wb-status-display .status-value[data-v-48aca5cd]{font-size:1.0em}.ark-btn .btn-text[data-v-48aca5cd]{font-size:0.8em}.content-wrapper[data-v-48aca5cd]{padding:30px 15px}.arknights-logo[data-v-48aca5cd]{width:80%;max-width:300px}.opening-grid[data-v-48aca5cd]{grid-template-columns:1fr}.ark-btn[data-v-48aca5cd]{height:auto;min-height:48px;padding:10px}.ark-btn .btn-content[data-v-48aca5cd]{flex-wrap:wrap;justify-content:center;text-align:center}}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ARK_STATUSBAR/components/StartupNavigator.vue\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"<template>\\r\\n  <div class=\\\"ark-startup-container\\\" :class=\\\"{ 'dark-theme': theme === 'dark' }\\\">\\r\\n    <div class=\\\"main-container\\\">\\r\\n      <div class=\\\"content-wrapper\\\">\\r\\n        <!-- Header Section -->\\r\\n        <div class=\\\"header-section\\\">\\r\\n          <div class=\\\"arknights-logo-container\\\">\\r\\n            <img :src=\\\"ASSETS.LOGO_URL\\\" alt=\\\"Arknights Logo\\\" class=\\\"arknights-logo\\\">\\r\\n          </div>\\r\\n          <p class=\\\"author-info\\\">初版作者：打不准的豌豆射手 | v版作者：F.o.x.i.o</p>\\r\\n          <p class=\\\"author-info\\\">UI重构：ARK_STATUSBAR Project</p>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"copyright-notice\\\">\\r\\n          <strong>版权声明</strong><br>\\r\\n          本卡完全免费，永远禁止商业化行为，如果您是购买获得，请立即退款并向购买平台举报贩卖者，维护创作者和您自身的权益。\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"usage-instructions\\\">\\r\\n            <strong>使用说明</strong><br>\\r\\n            请第一次使用本角色卡的用户，务必前往最后一个开局阅读<strong style=\\\"color: var(--warning-accent);\\\">“狐の言（在首次游玩前请一定要看！）”</strong>。<br>\\r\\n            若需管理单字干员或重置世界书状态，请点击右下角按钮打开侧边栏进行操作。\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"section-title\\\">◆ 简介</div>\\r\\n        <p class=\\\"intro-desc\\\">\\r\\n          从先史文明的终焉开始，到萨卡兹的第一位魔王，再到移动城市的拔地而起……<br>\\r\\n          如今的泰拉已经历经许多，源石将诅咒与馈赠印刻于这片大地，列国的城邦永无止境地在天灾轨迹中迁徙，感染者的悲鸣与帝国的号角于风雪中交织，仇恨浸染大地，而希望亦如天光。<br>\\r\\n          现在，你来到于此。<br>\\r\\n          你将作何抉择？你将行向何方？<br>\\r\\n          你是……谁？\\r\\n        </p>\\r\\n\\r\\n        <!-- Scenarios Grid -->\\r\\n        <div class=\\\"section-title\\\">◆ 点击—开启故事</div>\\r\\n        <div class=\\\"opening-section\\\">\\r\\n          <div class=\\\"opening-grid\\\">\\r\\n            <div \\r\\n              v-for=\\\"scenario in scenarios\\\" \\r\\n              :key=\\\"scenario.swipeId\\\"\\r\\n              class=\\\"opening-card\\\"\\r\\n              @click=\\\"handleScenarioClick(scenario)\\\"\\r\\n            >\\r\\n              <div class=\\\"opening-title\\\">{{ scenario.title }}</div>\\r\\n              \\r\\n              <!-- Decorational Info -->\\r\\n              <div class=\\\"opening-info\\\" v-if=\\\"scenario.linkedWorldInfo && scenario.linkedWorldInfo.length > 0\\\">\\r\\n                <span class=\\\"info-label\\\">开启:</span> {{ scenario.linkedWorldInfo.slice(0, 3).join(', ') }}{{ scenario.linkedWorldInfo.length > 3 ? '...' : '' }}\\r\\n              </div>\\r\\n              <div class=\\\"opening-info\\\" v-if=\\\"scenario.disabledWorldInfo && scenario.disabledWorldInfo.length > 0\\\">\\r\\n                <span class=\\\"info-label\\\">关闭:</span> {{ scenario.disabledWorldInfo.slice(0, 3).join(', ') }}{{ scenario.disabledWorldInfo.length > 3 ? '...' : '' }}\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Settings Toggle -->\\r\\n      <div class=\\\"settings-tab\\\" :class=\\\"{ 'is-open': isSettingsOpen }\\\" @click=\\\"toggleSettings\\\">\\r\\n        <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" fill=\\\"currentColor\\\"><path d=\\\"M0 0h24v24H0V0z\\\" fill=\\\"none\\\"/><path d=\\\"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12-.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\\\"/></svg>\\r\\n      </div>\\r\\n\\r\\n      <!-- Settings Overlay (Mobile Backdrop) -->\\r\\n      <div class=\\\"settings-overlay\\\" v-if=\\\"isSettingsOpen\\\" @click=\\\"isSettingsOpen = false\\\"></div>\\r\\n\\r\\n      <!-- Settings Panel -->\\r\\n      <div class=\\\"settings-panel\\\" :class=\\\"{ 'is-open': isSettingsOpen }\\\">\\r\\n        <h3>世界书控制</h3>\\r\\n        \\r\\n        <div class=\\\"wb-status-display\\\" :class=\\\"wbStatusClass\\\">\\r\\n            <div class=\\\"status-label\\\">SYSTEM STATUS</div>\\r\\n            <div class=\\\"status-value\\\">{{ wbStatusText }}</div>\\r\\n            <div class=\\\"status-decor\\\"></div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"wb-actions\\\">\\r\\n            <div class=\\\"ark-btn warning\\\" @click=\\\"handleCloseSingleChar\\\">\\r\\n                <div class=\\\"btn-content\\\">\\r\\n                    <span class=\\\"btn-icon\\\">⚡</span>\\r\\n                    <span class=\\\"btn-text\\\">屏蔽单字干员</span>\\r\\n                </div>\\r\\n                <div class=\\\"btn-decor\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"ark-btn danger\\\" @click=\\\"handleRestoreWorldbook\\\">\\r\\n                <div class=\\\"btn-content\\\">\\r\\n                    <span class=\\\"btn-icon\\\">↺</span>\\r\\n                    <span class=\\\"btn-text\\\">还原世界书</span>\\r\\n                </div>\\r\\n                <div class=\\\"btn-decor\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"wb-control-hint\\\" class=\\\"warning-box\\\">\\r\\n          <strong style=\\\"color: orange;\\\">[!] 世界书管理提示</strong>\\r\\n          <p style=\\\"font-size: 0.85em; margin-top: 5px; line-height: 1.6;\\\">\\r\\n              本面板会智能识别并管理当前角色的世界书状态。\\r\\n          </p>\\r\\n          <p style=\\\"font-size: 0.85em; margin-top: 5px; line-height: 1.6;\\\">\\r\\n              若您手动修改了世界书（如自行开启了某些条目），状态将显示为<strong style=\\\"color: #FF9800;\\\">“已修改”</strong>。此时切换开局可能会触发冲突警告，请按需选择继续或重置。\\r\\n          </p>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"settings-divider\\\"></div>\\r\\n\\r\\n        <h3>页面主题</h3>\\r\\n        <div class=\\\"theme-buttons-container\\\">\\r\\n          <div class=\\\"theme-button light\\\" :class=\\\"{ active: theme === 'light' }\\\" @click=\\\"setTheme('light')\\\">\\r\\n            <span>默认</span>\\r\\n          </div>\\r\\n          <div class=\\\"theme-button dark\\\" :class=\\\"{ active: theme === 'dark' }\\\" @click=\\\"setTheme('dark')\\\">\\r\\n            <span>夜间</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</template>\\r\\n\\r\\n<script setup lang=\\\"ts\\\">\\r\\nimport { onMounted, ref } from 'vue';\\r\\nimport { ASSETS } from '../config/assets';\\r\\nimport { STARTUP_SCENARIOS, type Scenario } from '../config/scenarios';\\r\\nimport { WorldbookManager, type WorldbookStatus } from '../logic/worldbook_manager';\\r\\n\\r\\n// Constants\\r\\nconst STORAGE_KEY_THEME = 'ark_statusbar_theme';\\r\\n\\r\\n// State\\r\\nconst scenarios = ref(STARTUP_SCENARIOS);\\r\\nconst theme = ref<'light' | 'dark'>('dark');\\r\\nconst isSettingsOpen = ref(false);\\r\\nconst wbStatus = ref<WorldbookStatus>('original');\\r\\n\\r\\n// Computed\\r\\nconst wbStatusText = computed(() => {\\r\\n  switch (wbStatus.value) {\\r\\n    case 'original': return '初始状态';\\r\\n    case 'single_char_closed': return '单字屏蔽';\\r\\n    case 'modified': return '非标修改';\\r\\n    default: return '未知状态';\\r\\n  }\\r\\n});\\r\\n\\r\\nconst wbStatusClass = computed(() => {\\r\\n   switch (wbStatus.value) {\\r\\n    case 'original': return 'status-green';\\r\\n    case 'single_char_closed': return 'status-blue';\\r\\n    case 'modified': return 'status-orange';\\r\\n    default: return 'status-gray';\\r\\n  }\\r\\n});\\r\\n\\r\\n// Methods\\r\\nconst toggleSettings = () => {\\r\\n  isSettingsOpen.value = !isSettingsOpen.value;\\r\\n  // Refresh status when opening settings\\r\\n  if (isSettingsOpen.value) {\\r\\n    checkWbStatus();\\r\\n  }\\r\\n};\\r\\n\\r\\nconst setTheme = (newTheme: 'light' | 'dark') => {\\r\\n  theme.value = newTheme;\\r\\n  localStorage.setItem(STORAGE_KEY_THEME, newTheme);\\r\\n};\\r\\n\\r\\nconst checkWbStatus = async () => {\\r\\n  wbStatus.value = await WorldbookManager.getWorldbookStatus();\\r\\n};\\r\\n\\r\\nconst handleCloseSingleChar = async () => {\\r\\n  await WorldbookManager.closeSingleCharEntries();\\r\\n  await checkWbStatus();\\r\\n};\\r\\n\\r\\nconst handleRestoreWorldbook = async () => {\\r\\n  if (confirm('确定要将世界书重置为初始状态吗？这将丢失所有自定义修改。')) {\\r\\n    await WorldbookManager.resetToBaseline();\\r\\n    await checkWbStatus();\\r\\n  }\\r\\n};\\r\\n\\r\\n// Initialize\\r\\nonMounted(() => {\\r\\n  const savedTheme = localStorage.getItem(STORAGE_KEY_THEME);\\r\\n  if (savedTheme === 'light' || savedTheme === 'dark') {\\r\\n    theme.value = savedTheme;\\r\\n  }\\r\\n  checkWbStatus();\\r\\n});\\r\\n\\r\\nconst handleScenarioClick = async (scenario: Scenario) => {\\r\\n  try {\\r\\n    // 1. Apply Worldbook Logic\\r\\n    try {\\r\\n        await WorldbookManager.applyScenario(scenario.swipeId);\\r\\n    } catch (e) {\\r\\n        if ((e as Error).message === 'STATUS_MODIFIED') {\\r\\n            if (confirm('检测到世界书包含非标准修改（可能是您手动开启了某些条目）。\\\\n直接跳转开局可能会在当前基础上叠加设置，导致状态混乱。\\\\n\\\\n是否继续？')) {\\r\\n                await WorldbookManager.applyScenario(scenario.swipeId, true); // Force apply\\r\\n            } else {\\r\\n                return; // User cancelled\\r\\n            }\\r\\n        } else {\\r\\n            throw e;\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    // Update status after apply\\r\\n    await checkWbStatus();\\r\\n\\r\\n    // 2. Switch Swipe (Legacy Logic)\\r\\n    // We assume SillyTavern global is available\\r\\n    if (typeof SillyTavern === 'undefined' || !SillyTavern.chat) {\\r\\n      throw new Error('SillyTavern environment not found.');\\r\\n    }\\r\\n\\r\\n    const firstMessage = SillyTavern.chat[0];\\r\\n    if (!firstMessage || !firstMessage.swipes || typeof firstMessage.swipes[scenario.swipeId] !== 'string') {\\r\\n      throw new Error(`Swipe #${scenario.swipeId} content not found.`);\\r\\n    }\\r\\n\\r\\n    console.info(`[Startup] Switching to Swipe #${scenario.swipeId}`);\\r\\n    \\r\\n    // Update the message content to the selected swipe\\r\\n    firstMessage.swipe_id = scenario.swipeId;\\r\\n    firstMessage.mes = firstMessage.swipes[scenario.swipeId];\\r\\n\\r\\n    // Save and Reload\\r\\n    await SillyTavern.saveChat();\\r\\n    await SillyTavern.reloadCurrentChat();\\r\\n\\r\\n  } catch (error) {\\r\\n    console.error('[Startup] Failed to apply scenario:', error);\\r\\n    toastr.error('切换开局失败: ' + (error as Error).message);\\r\\n  }\\r\\n};\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\n@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;700&display=swap');\\r\\n\\r\\n.ark-startup-container {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  width: 100%;\\r\\n  --ui-bg: #fafafa;\\r\\n  --ui-text-main: #1a1a1a;\\r\\n  --ui-text-secondary: #2a2a2a;\\r\\n  --ui-border-primary: #e8e8e8;\\r\\n  --ui-accent: #1a1a1a;\\r\\n  --warning-accent: #FFA726;\\r\\n  --panel-width: 300px;\\r\\n}\\r\\n\\r\\n.ark-startup-container.dark-theme {\\r\\n  --ui-bg: rgba(20, 20, 20, 0.85);\\r\\n  --ui-text-main: #e0e0e0;\\r\\n  --ui-text-secondary: #b0b0b0;\\r\\n  --ui-border-primary: #444;\\r\\n  --ui-accent: #4FC3F7;\\r\\n}\\r\\n\\r\\n.main-container {\\r\\n  width: 100%;\\r\\n  max-width: 900px;\\r\\n  background: var(--ui-bg);\\r\\n  backdrop-filter: blur(10px);\\r\\n  border-radius: 4px;\\r\\n  border: 1px solid var(--ui-border-primary);\\r\\n  position: relative;\\r\\n  overflow: hidden;\\r\\n  transition: background-color 0.3s, border-color 0.3s;\\r\\n  font-family: 'Noto Serif SC', serif;\\r\\n}\\r\\n\\r\\n.content-wrapper {\\r\\n  padding: 50px 40px;\\r\\n  position: relative;\\r\\n  z-index: 3;\\r\\n}\\r\\n\\r\\n.header-section {\\r\\n  text-align: center;\\r\\n  margin-bottom: 50px;\\r\\n  padding-bottom: 30px;\\r\\n  border-bottom: 1px solid var(--ui-border-primary);\\r\\n}\\r\\n\\r\\n.arknights-logo {\\r\\n  width: 300px;\\r\\n  height: auto;\\r\\n  transition: filter 0.3s;\\r\\n}\\r\\n\\r\\n.dark-theme .arknights-logo {\\r\\n  filter: invert(1) brightness(0.8);\\r\\n}\\r\\n\\r\\n.author-info {\\r\\n  font-size: 1em;\\r\\n  color: var(--ui-text-secondary);\\r\\n  margin-bottom: 5px;\\r\\n  font-weight: 300;\\r\\n}\\r\\n\\r\\n.copyright-notice, .usage-instructions, .warning-box {\\r\\n  background: rgba(128, 128, 128, 0.1);\\r\\n  padding: 20px;\\r\\n  margin: 30px 0;\\r\\n  border-left: 3px solid var(--ui-accent);\\r\\n  font-size: 0.9em;\\r\\n  line-height: 1.8;\\r\\n  color: var(--ui-text-secondary);\\r\\n}\\r\\n\\r\\n.usage-instructions {\\r\\n  background: rgba(255, 167, 38, 0.1);\\r\\n  margin: 20px 0 30px 0;\\r\\n  border-left: 3px solid var(--warning-accent);\\r\\n}\\r\\n\\r\\n.warning-box {\\r\\n  background-color: rgba(255, 165, 0, 0.1);\\r\\n  border-left-color: var(--warning-accent);\\r\\n  margin-bottom: 20px;\\r\\n  border: 1px solid rgba(255, 165, 0, 0.5);\\r\\n  border-radius: 4px;\\r\\n}\\r\\n\\r\\n.section-title {\\r\\n  font-size: 1.5em;\\r\\n  font-weight: 500;\\r\\n  color: var(--ui-text-main);\\r\\n  margin: 40px 0 20px 0;\\r\\n  padding-bottom: 10px;\\r\\n  border-bottom: 2px solid var(--ui-accent);\\r\\n  letter-spacing: 2px;\\r\\n}\\r\\n\\r\\n.intro-desc {\\r\\n  font-size: 1em;\\r\\n  color: var(--ui-text-secondary);\\r\\n  line-height: 1.8;\\r\\n  margin-bottom: 30px;\\r\\n}\\r\\n\\r\\n.opening-grid {\\r\\n  display: grid;\\r\\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\\r\\n  gap: 20px;\\r\\n  margin-top: 30px;\\r\\n}\\r\\n\\r\\n.opening-card {\\r\\n  background: transparent;\\r\\n  border: 1px solid var(--ui-border-primary);\\r\\n  padding: 25px;\\r\\n  cursor: pointer;\\r\\n  transition: all 0.3s ease;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.opening-card:hover {\\r\\n  transform: translateY(-3px);\\r\\n  border-color: var(--ui-accent);\\r\\n  background-color: rgba(128, 128, 128, 0.05);\\r\\n}\\r\\n\\r\\n.opening-title {\\r\\n  font-size: 1.2em;\\r\\n  font-weight: 500;\\r\\n  color: var(--ui-text-main);\\r\\n}\\r\\n\\r\\n.opening-info {\\r\\n    font-size: 0.85em;\\r\\n    color: var(--ui-text-secondary);\\r\\n    margin-top: 4px;\\r\\n    opacity: 0.8;\\r\\n}\\r\\n\\r\\n.info-label {\\r\\n    font-weight: bold;\\r\\n    opacity: 0.7;\\r\\n}\\r\\n\\r\\n/* Settings Panel */\\r\\n.settings-panel {\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  right: calc(var(--panel-width) * -1);\\r\\n  width: var(--panel-width);\\r\\n  height: 100%;\\r\\n  background-color: var(--ui-bg);\\r\\n  backdrop-filter: blur(12px);\\r\\n  border-left: 1px solid var(--ui-border-primary);\\r\\n  z-index: 1000;\\r\\n  padding: 20px;\\r\\n  transition: right 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\\r\\n  box-sizing: border-box; /* Prevent padding from adding to width */\\r\\n}\\r\\n\\r\\n.settings-panel.is-open {\\r\\n  right: 0;\\r\\n}\\r\\n\\r\\n/* Overlay Backdrop */\\r\\n.settings-overlay {\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background-color: rgba(0, 0, 0, 0.5);\\r\\n  z-index: 999; /* Below panel (1000), above content */\\r\\n  backdrop-filter: blur(2px);\\r\\n}\\r\\n\\r\\n.settings-tab {\\r\\n  position: absolute;\\r\\n  top: 20px;\\r\\n  right: 0px;\\r\\n  width: 50px;\\r\\n  height: 50px;\\r\\n  background-color: var(--ui-bg);\\r\\n  border: 1px solid var(--ui-border-primary);\\r\\n  border-right: none;\\r\\n  border-top-left-radius: 6px;\\r\\n  border-bottom-left-radius: 6px;\\r\\n  cursor: pointer;\\r\\n  z-index: 1001;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  color: var(--ui-text-secondary);\\r\\n  transition: right 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\\r\\n}\\r\\n\\r\\n.settings-tab.is-open {\\r\\n  right: var(--panel-width);\\r\\n}\\r\\n\\r\\n.settings-divider {\\r\\n  height: 1px;\\r\\n  background-color: var(--ui-border-primary);\\r\\n  margin: 20px 0;\\r\\n}\\r\\n\\r\\n.theme-buttons-container {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  gap: 10px;\\r\\n  margin-top: 15px;\\r\\n}\\r\\n\\r\\n.theme-button {\\r\\n  width: 100%;\\r\\n  height: 50px;\\r\\n  border-radius: 4px;\\r\\n  cursor: pointer;\\r\\n  border: 2px solid var(--ui-border-primary);\\r\\n  position: relative;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.theme-button.light { background-color: #fafafa; color: #1a1a1a; }\\r\\n.theme-button.dark { background-color: #2a2a2a; color: #e0e0e0; }\\r\\n.theme-button.active { border-color: var(--ui-accent); }\\r\\n\\r\\n.theme-button {\\r\\n  padding: 5px;\\r\\n}\\r\\n\\r\\n.theme-button span {\\r\\n  position: absolute;\\r\\n  bottom: 5px;\\r\\n  right: 10px;\\r\\n  font-size: 0.8em;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.setting-item {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\nh3 {\\r\\n  color: var(--ui-text-main);\\r\\n  font-weight: 500;\\r\\n  font-size: 1.2em;\\r\\n}\\r\\n\\r\\n/* --- Arknights Style UI --- */\\r\\n\\r\\n/* Status Display */\\r\\n.wb-status-display {\\r\\n    padding: 15px;\\r\\n    margin-bottom: 20px;\\r\\n    background: rgba(0,0,0,0.05);\\r\\n    border-left: 4px solid #999;\\r\\n    position: relative;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.wb-status-display .status-label {\\r\\n    font-size: 0.7em;\\r\\n    letter-spacing: 2px;\\r\\n    color: var(--ui-text-secondary);\\r\\n    margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.wb-status-display .status-value {\\r\\n    font-size: 1.2em;\\r\\n    font-weight: bold;\\r\\n    letter-spacing: 1px;\\r\\n}\\r\\n\\r\\n.wb-status-display .status-decor {\\r\\n    position: absolute;\\r\\n    top: 0; right: 0;\\r\\n    width: 20px; height: 20px;\\r\\n    background: linear-gradient(45deg, transparent 50%, rgba(255,255,255,0.1) 50%);\\r\\n}\\r\\n\\r\\n.status-green { border-left-color: #4CAF50; color: #4CAF50; background: rgba(76, 175, 80, 0.05); }\\r\\n.status-blue { border-left-color: #2196F3; color: #2196F3; background: rgba(33, 150, 243, 0.05); }\\r\\n.status-orange { border-left-color: #FF9800; color: #FF9800; background: rgba(255, 152, 0, 0.05); }\\r\\n\\r\\n/* Arknights Buttons */\\r\\n.wb-actions {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 15px;\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.ark-btn {\\r\\n    position: relative;\\r\\n    height: 48px;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    cursor: pointer;\\r\\n    border: 1px solid var(--ui-border-primary);\\r\\n    background: var(--ui-bg);\\r\\n    transition: all 0.2s ease;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.ark-btn .btn-content {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    gap: 10px;\\r\\n    z-index: 2;\\r\\n    transition: all 0.2s;\\r\\n}\\r\\n\\r\\n.ark-btn .btn-text {\\r\\n    font-weight: bold;\\r\\n    letter-spacing: 1px;\\r\\n    text-transform: uppercase;\\r\\n    font-size: 0.9em;\\r\\n}\\r\\n\\r\\n/* Warning Button (Close Single Char) */\\r\\n.ark-btn.warning {\\r\\n    border-color: #FF9800;\\r\\n    color: #FF9800;\\r\\n}\\r\\n.ark-btn.warning:hover {\\r\\n    background: #FF9800;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n/* Danger Button (Restore) */\\r\\n.ark-btn.danger {\\r\\n    border-color: #F44336;\\r\\n    color: #F44336;\\r\\n}\\r\\n.ark-btn.danger:hover {\\r\\n    background: #F44336;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n/* Decor Elements */\\r\\n.ark-btn::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    top: 0; right: 0;\\r\\n    width: 0; height: 0;\\r\\n    border-style: solid;\\r\\n    border-width: 0 10px 10px 0;\\r\\n    border-color: transparent currentColor transparent transparent;\\r\\n    opacity: 0.5;\\r\\n}\\r\\n\\r\\n.ark-btn:active {\\r\\n    transform: scale(0.98);\\r\\n}\\r\\n\\r\\n/* Mobile Responsive */\\r\\n@media (max-width: 768px) {\\r\\n  .ark-startup-container {\\r\\n    /*\\r\\n      Compress sidebar width to 210px (Final Polish).\\r\\n      On a 360px screen, this leaves 150px (50px button + 100px overlay),\\r\\n      providing a very comfortable interaction zone.\\r\\n    */\\r\\n    --panel-width: 210px;\\r\\n  }\\r\\n\\r\\n  /* Reduce panel internal padding to maximize space in the narrower sidebar */\\r\\n  .settings-panel {\\r\\n    padding: 12px;\\r\\n  }\\r\\n  \\r\\n  .wb-status-display {\\r\\n    padding: 10px;\\r\\n  }\\r\\n\\r\\n  /* Adjust font sizes for narrower panel */\\r\\n  .wb-status-display .status-value {\\r\\n    font-size: 1.0em; /* Slightly smaller for 210px */\\r\\n  }\\r\\n  \\r\\n  .ark-btn .btn-text {\\r\\n    font-size: 0.8em; /* Ensure text fits in 210px */\\r\\n  }\\r\\n\\r\\n  /* Main Content Adjustments */\\r\\n  .content-wrapper {\\r\\n    padding: 30px 15px; /* Reduce padding to prevent overflow */\\r\\n  }\\r\\n\\r\\n  .arknights-logo {\\r\\n    width: 80%; /* Responsive logo width */\\r\\n    max-width: 300px;\\r\\n  }\\r\\n\\r\\n  .opening-grid {\\r\\n    grid-template-columns: 1fr; /* Single column on mobile */\\r\\n  }\\r\\n\\r\\n  /* Fix button text wrapping */\\r\\n  .ark-btn {\\r\\n    height: auto;\\r\\n    min-height: 48px;\\r\\n    padding: 10px;\\r\\n  }\\r\\n  \\r\\n  .ark-btn .btn-content {\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n    text-align: center;\\r\\n  }\\r\\n}\\r\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;700&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.director-return-button[data-v-34773736]{display:block;width:120px;margin:20px auto 10px auto;padding:8px 12px;background-color:rgba(40,40,40,0.8);color:#e0e0e0;border:1px solid #444;border-radius:4px;cursor:pointer;text-align:center;font-family:'Noto Serif SC',serif;transition:background-color 0.3s;text-decoration:none}.director-return-button[data-v-34773736]:hover{background-color:rgba(60,60,60,0.9)}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ARK_STATUSBAR/components/ReturnButton.vue\"],\"names\":[],\"mappings\":\"AAyCA,yCACE,aAAc,CACd,WAAY,CACZ,0BAA2B,CAC3B,gBAAiB,CACjB,mCAAuC,CACvC,aAAc,CACd,qBAAsB,CACtB,iBAAkB,CAClB,cAAe,CACf,iBAAkB,CAClB,iCAAmC,CACnC,gCAAiC,CACjC,oBACF,CAEA,+CACE,mCACF\",\"sourcesContent\":[\"<template>\\r\\n  <a class=\\\"director-return-button\\\" @click=\\\"handleReturn\\\">\\r\\n    返回开局\\r\\n  </a>\\r\\n</template>\\r\\n\\r\\n<script setup lang=\\\"ts\\\">\\r\\nconst handleReturn = async () => {\\r\\n  try {\\r\\n    if (typeof SillyTavern === 'undefined' || !SillyTavern.chat) {\\r\\n      throw new Error('SillyTavern environment not found.');\\r\\n    }\\r\\n\\r\\n    const firstMessage = SillyTavern.chat[0];\\r\\n    const targetSwipeId = 0;\\r\\n\\r\\n    // Verify swipe 0 exists\\r\\n    if (!firstMessage || !firstMessage.swipes || typeof firstMessage.swipes[targetSwipeId] !== 'string') {\\r\\n      throw new Error(`Startup swipe #${targetSwipeId} not found.`);\\r\\n    }\\r\\n\\r\\n    console.info('[ReturnButton] Returning to Startup (Swipe #0)...');\\r\\n\\r\\n    // Update message content\\r\\n    firstMessage.swipe_id = targetSwipeId;\\r\\n    firstMessage.mes = firstMessage.swipes[targetSwipeId];\\r\\n\\r\\n    // Save and Reload\\r\\n    await SillyTavern.saveChat();\\r\\n    await SillyTavern.reloadCurrentChat();\\r\\n\\r\\n  } catch (error) {\\r\\n    console.error('[ReturnButton] Failed to return to startup:', error);\\r\\n    toastr.error('返回开局失败: ' + (error as Error).message);\\r\\n  }\\r\\n};\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\n@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;700&display=swap');\\r\\n\\r\\n.director-return-button {\\r\\n  display: block;\\r\\n  width: 120px;\\r\\n  margin: 20px auto 10px auto;\\r\\n  padding: 8px 12px;\\r\\n  background-color: rgba(40, 40, 40, 0.8);\\r\\n  color: #e0e0e0;\\r\\n  border: 1px solid #444;\\r\\n  border-radius: 4px;\\r\\n  cursor: pointer;\\r\\n  text-align: center;\\r\\n  font-family: 'Noto Serif SC', serif;\\r\\n  transition: background-color 0.3s;\\r\\n  text-decoration: none; /* In case global styles affect <a> */\\r\\n}\\r\\n\\r\\n.director-return-button:hover {\\r\\n  background-color: rgba(60, 60, 60, 0.9);\\r\\n}\\r\\n</style>\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-198.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./StartupNavigator.vue?vue&type=style&index=0&id=48aca5cd&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"34e417e4\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-198.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./StartupNavigator.vue?vue&type=style&index=0&id=48aca5cd&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-198.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./StartupNavigator.vue?vue&type=style&index=0&id=48aca5cd&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-198.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ReturnButton.vue?vue&type=style&index=0&id=34773736&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"066aaef1\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-198.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ReturnButton.vue?vue&type=style&index=0&id=34773736&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.104.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-198.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcs_7d63b02763e68f083d716dcbb7369b8a/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ReturnButton.vue?vue&type=style&index=0&id=34773736&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { defineComponent as _defineComponent } from 'vue';\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ReturnButton',\n    setup(__props) {\n        const handleReturn = async () => {\n            try {\n                if (typeof SillyTavern === 'undefined' || !SillyTavern.chat) {\n                    throw new Error('SillyTavern environment not found.');\n                }\n                const firstMessage = SillyTavern.chat[0];\n                const targetSwipeId = 0;\n                // Verify swipe 0 exists\n                if (!firstMessage || !firstMessage.swipes || typeof firstMessage.swipes[targetSwipeId] !== 'string') {\n                    throw new Error(`Startup swipe #${targetSwipeId} not found.`);\n                }\n                console.info('[ReturnButton] Returning to Startup (Swipe #0)...');\n                // Update message content\n                firstMessage.swipe_id = targetSwipeId;\n                firstMessage.mes = firstMessage.swipes[targetSwipeId];\n                // Save and Reload\n                await SillyTavern.saveChat();\n                await SillyTavern.reloadCurrentChat();\n            }\n            catch (error) {\n                console.error('[ReturnButton] Failed to return to startup:', error);\n                toastr.error('返回开局失败: ' + error.message);\n            }\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"a\", {\n                class: \"director-return-button\",\n                onClick: handleReturn\n            }, \" 返回开局 \"));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ReturnButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ReturnButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ReturnButton.vue?vue&type=style&index=0&id=34773736&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-34773736\"]])\n\nexport default __exports__","export const ASSETS = {\r\n  LOGO_URL: 'https://storage.moegirl.org.cn/moegirl/commons/9/9e/%E6%98%8E%E6%97%A5%E6%96%B9%E8%88%9F_LOGO.png'\r\n};","/**\r\n * ===================================================================================\r\n *  ** 开局配置指南 (CONTRIBUTION GUIDE) **\r\n * ===================================================================================\r\n *  此配置用于定义“开局导航器”中的每一个开局卡片。\r\n *  角色卡贡献者应修改下方的 `STARTUP_SCENARIOS` 数组来增加或调整开局。\r\n *\r\n *  **[如何添加新开局]**\r\n *  1. 在 `STARTUP_SCENARIOS` 数组中添加一个新的对象 `{ ... }`。\r\n *  2. 确保 `swipeId` 是唯一的，并且对应酒馆消息编辑器中的 Swipe 序号（从1开始）。\r\n *  3. 填写 `title` (显示标题) 和世界书控制逻辑 (`linkedWorldInfo`, `disabledWorldInfo`)。\r\n *\r\n *  **[字段说明]**\r\n *  - `swipeId`: (number) 必填。对应第一条消息的 Swipe ID。\r\n *  - `title`: (string) 必填。显示在 UI 卡片上的文字。\r\n *  - `linkedWorldInfo`: (string[]) 选填。点击该开局时，需要**强制开启**的世界书条目名称列表。\r\n *  - `disabledWorldInfo`: (string[]) 选填。点击该开局时，需要**强制关闭**的世界书条目名称列表。\r\n *\r\n *  **[示例]**\r\n *  {\r\n *    \"swipeId\": 99,\r\n *    \"title\": \"测试开局：关闭阿米娅\",\r\n *    \"linkedWorldInfo\": [\"罗德岛\", \"凯尔希\"],  // 将会开启“罗德岛”和“凯尔希”\r\n *    \"disabledWorldInfo\": [\"阿米娅\"]           // 将会关闭“阿米娅”\r\n *  }\r\n * ===================================================================================\r\n */\r\n\r\nexport interface Scenario {\r\n  swipeId: number;\r\n  title: string;\r\n  linkedWorldInfo: string[];\r\n  disabledWorldInfo?: string[];\r\n}\r\n\r\nexport const STARTUP_SCENARIOS: Scenario[] = [\r\n  { \"swipeId\": 1, \"title\": \"“作为博士被正常唤醒”\", \"linkedWorldInfo\": [\"阿米娅\",\"罗德岛\"] },\r\n  { \"swipeId\": 2, \"title\": \"“依旧博士，但唤醒你的是W？”\", \"linkedWorldInfo\": [\"W\",\"萨卡兹\",\"巴别塔\"] },\r\n  { \"swipeId\": 3, \"title\": \"“关于我莫名其妙的来到泰拉并成为了两只幼龙的监护人这件事”\", \"linkedWorldInfo\": [\"维多利亚\",\"爱布拉娜·都柏林\",\"拉芙希妮·都柏林\"] },\r\n  { \"swipeId\": 4, \"title\": \"“企鹅物流，我是来面试的，你们要干什么？！”\", \"linkedWorldInfo\": [\"企鹅物流\",\"能天使\",\"德克萨斯\",\"空\",\"可颂\"] },\r\n  { \"swipeId\": 5, \"title\": \"“企鹅物流，每天都被请去喝茶的同事们真的太逊了”\", \"linkedWorldInfo\": [\"大帝\",\"伊斯\",\"企鹅物流\"] },\r\n  { \"swipeId\": 6, \"title\": \"“燎原”\", \"linkedWorldInfo\": [\"塔露拉\",\"阿丽娜\",\"乌萨斯\"] },\r\n  { \"swipeId\": 7, \"title\": \"“穿越了，但穿的是迷迭香”\", \"linkedWorldInfo\": [\"迷迭香\",\"凯尔希\",\"罗德岛\"] },\r\n  { \"swipeId\": 8, \"title\": \"“终末地”\", \"linkedWorldInfo\": [\"佩丽卡\",\"管理员\",\"终末地（非游玩时请关闭）\"] },\r\n  { \"swipeId\": 9, \"title\": \"“海嗣灭世”\", \"linkedWorldInfo\": [\"海嗣\",\"海嗣灭世（非游玩时请关闭）\"] },\r\n  { \"swipeId\": 10, \"title\": \"“你与她的终末”\", \"linkedWorldInfo\": [\"海嗣\",\"你与她的终末（非游玩时请关闭）\",\"伊莎玛拉\"] },\r\n  { \"swipeId\": 11, \"title\": \"“罗德岛学院，18岁，事学生”\", \"linkedWorldInfo\": [\"罗德岛学院（非游玩时请关闭）\"] },\r\n  { \"swipeId\": 12, \"title\": \"“罗德岛学院，24岁，事教师”\", \"linkedWorldInfo\": [\"罗德岛学院（非游玩时请关闭）\"] },\r\n  { \"swipeId\": 13, \"title\": \"“加油啊，制作人”\", \"linkedWorldInfo\": [\"塞壬唱片MSR\",\"尤里卡\",\"阮薇薇\",\"遥\"] },\r\n  { \"swipeId\": 14, \"title\": \"“898年卡兹戴尔新任魔王，欸？我打凯尔希+三国联军？真的假的？”\", \"linkedWorldInfo\": [\"卡兹戴尔\",\"萨卡兹\",\"预见末日的贤人\"] },\r\n  { \"swipeId\": 15, \"title\": \"“罗德岛新晋，无名小卒还是名扬天下？”\", \"linkedWorldInfo\": [\"罗德岛\"] },\r\n  { \"swipeId\": 16, \"title\": \"“反常光谱”\", \"linkedWorldInfo\": [\"Mantra\",\"极境\"] },\r\n  { \"swipeId\": 17, \"title\": \"“巴别塔的恶灵”\", \"linkedWorldInfo\": [\"卡兹戴尔\",\"巴别塔\",\"特蕾西娅\",\"凯尔希\",\"阿米娅\"] },\r\n  { \"swipeId\": 18, \"title\": \"“谢邀，人在13000年前，二人一猫星间漂流”\", \"linkedWorldInfo\": [\"普瑞赛斯\",\"Ama-10\"] },\r\n  { \"swipeId\": 19, \"title\": \"“你们这里谁最会构史？”\", \"linkedWorldInfo\": [\"妮芙\",\"锡人\"] },\r\n  { \"swipeId\": 20, \"title\": \"“卡西米尔一般路过游客（并非）”\", \"linkedWorldInfo\": [\"卡西米尔\"] },\r\n  { \"swipeId\": 21, \"title\": \"“我的幼驯染天使”\", \"linkedWorldInfo\": [\"拉特兰\",\"蕾缪乐\"] },\r\n  { \"swipeId\": 22, \"title\": \"“莱茵生命纪实”\", \"linkedWorldInfo\": [\"克丽斯腾\",\"塞雷娅\",\"莱茵生命\"] },\r\n  { \"swipeId\": 23, \"title\": \"“岁岁今朝”\", \"linkedWorldInfo\": [\"炎\",\"朔\"] },\r\n  { \"swipeId\": 24, \"title\": \"“泰拉万事屋”\", \"linkedWorldInfo\": [\"拉普兰德\"] },\r\n  { \"swipeId\": 25, \"title\": \"“摸鱼侦探事务所”\", \"linkedWorldInfo\": [\"鲤氏侦探事务所\",\"老鲤\",\"槐琥\",\"吽\",\"阿\"] },\r\n  { \"swipeId\": 26, \"title\": \"“博士救出作战第一号”\", \"linkedWorldInfo\": [\"阿米娅\",\"Ace\",\"Scout\"] },\r\n  { \"swipeId\": 27, \"title\": \"“当佣兵何尝不算是一种搜打撤”\", \"linkedWorldInfo\": [\"卡兹戴尔\",\"W\",\"伊内丝\",\"赫德雷\"] },\r\n  { \"swipeId\": 28, \"title\": \"“虽然引导并未破碎，但也请您成为真龙”\", \"linkedWorldInfo\": [\"炎\",\"太傅\",\"太尉\"] },\r\n  { \"swipeId\": 29, \"title\": \"“企鹅物流保姆这一块”\", \"linkedWorldInfo\": [\"能天使\",\"德克萨斯\",\"空\",\"可颂\",\"企鹅物流\"] },\r\n  { \"swipeId\": 30, \"title\": \"“博士的日常”\", \"linkedWorldInfo\": [\"罗德岛\"] },\r\n  { \"swipeId\": 31, \"title\": \"“开门，社区送温暖！”\", \"linkedWorldInfo\": [\"龙门\"] },\r\n  { \"swipeId\": 32, \"title\": \"“我补药当超级烂片大王口牙”\", \"linkedWorldInfo\": [\"炎\",\"年\"] },\r\n  { \"swipeId\": 33, \"title\": \"“兄啊，你要老婆不要”\", \"linkedWorldInfo\": [\"老鲤\"] },\r\n  { \"swipeId\": 34, \"title\": \"“修道院往事”\", \"linkedWorldInfo\": [\"拉特兰\",\"聆音\",\"埃莉丝\",\"空弦\",\"塑心\"] },\r\n  { \"swipeId\": 35, \"title\": \"“双狼记”\", \"linkedWorldInfo\": [\"叙拉古\",\"德克萨斯\",\"拉普兰德\"] },\r\n  { \"swipeId\": 36, \"title\": \"“漆黑钢铁的琶音”\", \"linkedWorldInfo\": [\"黑钢\",\"芙兰卡\",\"雷蛇\",\"杰西卡\"] },\r\n  { \"swipeId\": 37, \"title\": \"“You！”\", \"linkedWorldInfo\": [\"维多利亚\",\"澄闪\"] },\r\n  { \"swipeId\": 38, \"title\": \"“夏日、阳光、海滩！”\", \"linkedWorldInfo\": [\"汐斯塔\",\"Mon3tr\",\"特蕾西娅\",\"凯尔希\",\"阿米娅\"] },\r\n  { \"swipeId\": 39, \"title\": \"“往日种种，你当真不记得了？”\", \"linkedWorldInfo\": [\"普瑞赛斯\",\"博士\",\"凯尔希\",\"Mon3tr\"] },\r\n  { \"swipeId\": 40, \"title\": \"“什么叫构史成真了？”\", \"linkedWorldInfo\": [\"罗德岛\",\"泰拉大陆调查团\",\"能天使\",\"新约能天使\",\"德克萨斯\",\"缄默德克萨斯\",\"斯卡蒂\",\"浊心斯卡蒂\",\"妮芙\",\"构史成真（非游玩时请关闭喵）\"] },\r\n  { \"swipeId\": 41, \"title\": \"“深海猎人，血脉相连”\", \"linkedWorldInfo\": [\"阿戈尔\",\"斯卡蒂\",\"幽灵鲨\",\"歌蕾蒂娅\",\"德克萨斯\",\"乌尔比安\"] },\r\n  { \"swipeId\": 42, \"title\": \"“匡 扶 深 池”\", \"linkedWorldInfo\": [\"维多利亚\",\"深池\",\"蔓德拉\",\"苇草\",\"死芒\"] },\r\n  { \"swipeId\": 43, \"title\": \"“释放你的想象力，在这里开启属于你的故事吧！”\", \"linkedWorldInfo\": [] },\r\n  { \"swipeId\": 44, \"title\": \"“狐の言（作者的话）”\", \"linkedWorldInfo\": [] }\r\n];","// Auto-generated by references/tools/generate_baseline.mjs\n// Source: references/tools/昨夜圆车.yaml\n\nexport const BASELINE_STATE: Record<string, boolean> = {\n  \"备注\": true,\n  \"世界观\": true,\n  \"魔王（与特蕾西娅选一开）\": false,\n  \"状态栏（基本废弃，请保持关闭）\": false,\n  \"快回（抽象，非游玩请关闭）\": false,\n  \"历史（详细历史，非必须使用时请关闭）\": false,\n  \"历史大事件\": true,\n  \"干员档案（基本废弃，请保持关闭）\": false,\n  \"干员档案-思考（同干员档案）\": false,\n  \"前文明\": true,\n  \"泰拉\": true,\n  \"人类\": true,\n  \"黎博利\": true,\n  \"特别感谢版本彩蛋（豌豆写的，后由Fox进行文本优化）\": true,\n  \"菲林\": true,\n  \"泰拉大陆调查团\": true,\n  \"凯尔希（本格，与Ama-10、巴别塔、预见末日的贤人选一开）\": true,\n  \"卡特斯\": true,\n  \"鲁珀\": true,\n  \"沃尔珀\": true,\n  \"佩洛\": true,\n  \"莱伊\": true,\n  \"丰蹄\": true,\n  \"墨魉\": true,\n  \"卡普里尼\": true,\n  \"乌萨斯\": true,\n  \"风笛\": true,\n  \"库兰塔\": true,\n  \"埃拉菲亚\": true,\n  \"札拉克\": true,\n  \"阿纳缇\": true,\n  \"萨科塔\": true,\n  \"龙\": true,\n  \"德拉克\": true,\n  \"阿斯兰\": true,\n  \"斐迪亚\": true,\n  \"瓦伊凡\": true,\n  \"萨卡兹\": true,\n  \"血魔\": true,\n  \"温迪戈\": true,\n  \"石翼魔\": true,\n  \"食腐者\": true,\n  \"女妖\": true,\n  \"变形者\": true,\n  \"巫妖\": true,\n  \"独眼巨人\": true,\n  \"笞心魔\": true,\n  \"星熊（本格，与异格选一开）\": true,\n  \"炎魔\": true,\n  \"死魂灵\": true,\n  \"白金\": true,\n  \"海嗣\": true,\n  \"阿戈尔（人）\": true,\n  \"依特拉\": true,\n  \"邪魔\": true,\n  \"曼提柯\": true,\n  \"麒麟\": true,\n  \"阿达克利斯\": true,\n  \"萨弗拉\": true,\n  \"瑞柏巴\": true,\n  \"塞拉托\": true,\n  \"安努拉\": true,\n  \"罗德岛\": true,\n  \"拉特兰\": true,\n  \"卡兹戴尔\": true,\n  \"炎\": true,\n  \"龙门\": true,\n  \"企鹅物流\": true,\n  \"乌萨斯帝国\": true,\n  \"整合运动\": true,\n  \"维多利亚\": true,\n  \"哥伦比亚\": true,\n  \"黑钢国际\": true,\n  \"莱茵生命\": true,\n  \"叙拉古\": true,\n  \"卡西米尔\": true,\n  \"阿戈尔\": true,\n  \"伊比利亚\": true,\n  \"萨尔贡\": true,\n  \"汐斯塔\": true,\n  \"谢拉格\": true,\n  \"喀兰贸易\": true,\n  \"萨米\": true,\n  \"深海教会\": true,\n  \"莱塔尼亚\": true,\n  \"魏彦吾\": true,\n  \"特雷西斯（本格，与898年、内战选一开）\": true,\n  \"赫德雷\": true,\n  \"讯使\": true,\n  \"梅菲斯特\": true,\n  \"霜星\": true,\n  \"碎骨\": true,\n  \"安玛、克雷松\": true,\n  \"阿丽娜\": true,\n  \"巫王\": true,\n  \"W（本格，与维什戴尔选一开）\": true,\n  \"陈（本格，与异格选一开）\": true,\n  \"诗怀雅（本格，与异格选一开）\": true,\n  \"塔露拉（斗士，与黑蛇选一开）\": true,\n  \"阿米娅（本格，与幼年、医疗、炉芯终曲选一开）\": true,\n  \"博士（男，以博士身份游玩时请关闭）\": false,\n  \"鞭刃\": true,\n  \"忍冬\": true,\n  \"玛恩纳\": true,\n  \"临光（本格，与异格选一开）\": false,\n  \"瑕光\": true,\n  \"苇草（本格，与幼龙、异格选一开）\": false,\n  \"Mon3tr锚定\": true,\n  \"死芒（本格，与幼龙选一开）\": false,\n  \"祐天寺若麦（本格，与菲林选一开）\": true,\n  \"左乐\": true,\n  \"华法琳\": true,\n  \"拉普兰德（本格，与幼狼、异格、无序的谦卑选一开）\": true,\n  \"德克萨斯（本格，与幼狼、异格选一开）\": true,\n  \"可颂\": true,\n  \"空\": true,\n  \"能天使（本格，与幼年、异格选一开）\": true,\n  \"林\": true,\n  \"银灰（本格，与异格选一开）\": false,\n  \"望（本格，与早年选一开）\": true,\n  \"初雪（本格，与异格选一开）\": false,\n  \"崖心\": true,\n  \"锏\": true,\n  \"灵知\": true,\n  \"黑\": true,\n  \"煌（本格，与异格选一开）\": true,\n  \"狮蝎\": true,\n  \"惊蛰（本格，与异格选一开）\": false,\n  \"推进之王（本格，与异格选一开）\": true,\n  \"斯卡蒂（本格，与异格选一开）\": true,\n  \"塑心（本格，与幼年选一开）\": true,\n  \"归溟幽灵鲨（异格，与本格选一开）\": true,\n  \"艾丽妮\": true,\n  \"莫斯提马（本格，与少女选一开）\": true,\n  \"蕾缪安（本格，与少女选一开）\": true,\n  \"菲亚梅塔（本格，与少女选一开）\": true,\n  \"迷迭香\": true,\n  \"丰川祥子（本格，与萨卡兹选一开）\": true,\n  \"缪尔赛思\": true,\n  \"霍尔海雅\": true,\n  \"伊芙利特\": true,\n  \"塞雷娅\": true,\n  \"赫默（本格，与异格选一开）\": false,\n  \"多萝西\": true,\n  \"白面鸮\": true,\n  \"梅尔\": true,\n  \"星极\": true,\n  \"星源（本格，与异格选一开）\": false,\n  \"三角初华（本格，与佩洛选一开）\": true,\n  \"若叶睦（本格，与卡特斯选一开）\": true,\n  \"八幡海铃（本格，与鲁珀选一开）\": true,\n  \"锡兰\": true,\n  \"铃兰\": true,\n  \"斥罪\": true,\n  \"红\": true,\n  \"羽毛笔\": true,\n  \"暗索\": true,\n  \"麦哲伦\": true,\n  \"刻俄柏\": true,\n  \"特蕾西娅（本格，与898年、巴别塔、魔王选一开）\": true,\n  \"伊内丝\": true,\n  \"科西切\": true,\n  \"文月\": true,\n  \"鼠王\": true,\n  \"角峰\": true,\n  \"米莎\": true,\n  \"爱国者（本格，与博卓卡斯替选一开）\": true,\n  \"希尔德加德\": true,\n  \"浮士德\": true,\n  \"东国\": true,\n  \"白雪\": true,\n  \"普瑞赛斯\": true,\n  \"博士（女，以博士身份游玩时请关闭）\": true,\n  \"Mon3tr\": true,\n  \"可露希尔\": true,\n  \"Mechanist\": true,\n  \"ACE\": true,\n  \"Scout\": true,\n  \"Sharp\": true,\n  \"Pith\": true,\n  \"Stormeye\": true,\n  \"Touch\": true,\n  \"Misery\": true,\n  \"Raidian\": true,\n  \"Outcast\": true,\n  \"年（本格，与早年选一开）\": true,\n  \"夕（本格，与早年选一开）\": true,\n  \"令（本格，与早年选一开）\": true,\n  \"黍（本格，与早年选一开）\": true,\n  \"余（本格，与早年选一开）\": true,\n  \"重岳（本格，与朔选一开）\": true,\n  \"仇白\": true,\n  \"九\": true,\n  \"Logos\": true,\n  \"U-Official\": true,\n  \"薇薇安娜\": true,\n  \"歌蕾蒂娅\": true,\n  \"乌尔比安\": true,\n  \"浊心斯卡蒂（异格，与本格选一开）\": false,\n  \"史尔特尔\": true,\n  \"耶拉\": true,\n  \"阿玛雅\": true,\n  \"卡谢娜\": true,\n  \"水月\": true,\n  \"渡魂剑\": true,\n  \"澄闪\": true,\n  \"佩佩\": true,\n  \"菈玛莲（本格，与898年选一开）\": true,\n  \"克丽斯腾\": true,\n  \"可萝尔\": true,\n  \"阿斯卡纶\": true,\n  \"源石与源石技艺\": true,\n  \"感染者与矿石病\": true,\n  \"祐天寺若麦（菲林，与本格选一开）\": false,\n  \"源石技术\": true,\n  \"深海猎人\": true,\n  \"兽主\": true,\n  \"闪灵\": true,\n  \"夜莺\": true,\n  \"三角初华（佩洛，与本格选一开）\": false,\n  \"格特鲁德\": true,\n  \"鸿雪\": true,\n  \"琴柳\": true,\n  \"绩（本格，与早年选一开）\": true,\n  \"巨兽\": true,\n  \"丰川祥子（萨卡兹，与本格选一开）\": false,\n  \"巴别塔\": true,\n  \"大帝\": true,\n  \"百炼嘉维尔（异格，与本格选一开）\": true,\n  \"森蚺\": true,\n  \"特米米\": true,\n  \"妮芙\": true,\n  \"泥岩\": true,\n  \"提丰\": true,\n  \"安洁莉娜\": true,\n  \"号角\": true,\n  \"艾雅法拉（本格，与异格选一开）\": false,\n  \"行箸\": true,\n  \"食铁兽\": true,\n  \"亚叶\": true,\n  \"寒檀\": true,\n  \"凛视\": true,\n  \"罗德岛论坛\": true,\n  \"桃金娘\": true,\n  \"子月\": true,\n  \"阮薇薇\": true,\n  \"龙泡泡\": true,\n  \"弑君者\": true,\n  \"早露\": true,\n  \"凛冬\": true,\n  \"烈夏\": true,\n  \"真理\": true,\n  \"古米\": true,\n  \"{{user}}锚定（以博士身份游玩时请关闭）\": true,\n  \"蔓德拉\": true,\n  \"和弦\": true,\n  \"若叶睦（卡特斯，与本格选一开）\": false,\n  \"罗德岛论坛（美化版，非游玩时请关闭）\": false,\n  \"白铁\": true,\n  \"凯瑟琳\": true,\n  \"因陀罗\": true,\n  \"摩根\": true,\n  \"达格达\": true,\n  \"戴菲恩\": true,\n  \"杰西卡（本格，与异格选一开）\": true,\n  \"雷蛇\": true,\n  \"芙兰卡\": true,\n  \"涤火杰西卡（异格，与本格选一开）\": false,\n  \"新约能天使（异格，与幼年、本格选一开）\": false,\n  \"睚\": true,\n  \"塔露拉（黑蛇，与斗士选一开）\": false,\n  \"八幡海铃（鲁珀，与本格选一开）\": false,\n  \"嘉维尔（本格，与异格选一开）\": false,\n  \"幽灵鲨（本格，与异格选一开）\": false,\n  \"缄默德克萨斯（异格，与少女、本格选一开）\": false,\n  \"荒芜拉普兰德（异格，与幼狼、本格、无序的谦卑选一开）\": false,\n  \"维什戴尔（异格，与本格W选一开）\": false,\n  \"司霆惊蛰（异格，与本格选一开）\": true,\n  \"烛煌（异格，与本格选一开）\": false,\n  \"歌利亚\": true,\n  \"恐鱼\": true,\n  \"海嗣种类\": true,\n  \"海嗣灭世（非游玩时请关闭）\": false,\n  \"你与她的终末（非游玩时请关闭）\": false,\n  \"塞壬唱片MSR\": true,\n  \"皇帝的利刃\": true,\n  \"麒麟R夜刀（异格，与本格选一开）\": true,\n  \"夜刀（本格，与异格选一开）\": false,\n  \"杜林\": true,\n  \"黑角（本格，与异格选一开）\": false,\n  \"巡林者\": true,\n  \"火龙S黑角（异格，与本格选一开）\": true,\n  \"斩业星熊（异格，与本格选一开）\": false,\n  \"遥\": true,\n  \"琳琅诗怀雅（异格，与本格选一开）\": false,\n  \"假日威龙陈（异格，与本格选一开）\": false,\n  \"罗德岛学院（非游玩时请关闭）\": false,\n  \"阿米娅（医疗，与幼年、本格、炉芯终曲选一开）\": false,\n  \"纯烬艾雅法拉（异格，与本格选一开）\": true,\n  \"玫兰莎\": true,\n  \"宴\": true,\n  \"格拉尼\": true,\n  \"绮良\": true,\n  \"耀骑士临光（异格，与本格选一开）\": true,\n  \"老鲤\": true,\n  \"缠丸\": true,\n  \"界园\": true,\n  \"器伥\": true,\n  \"焰影苇草（异格，与幼龙、本格选一开）\": false,\n  \"爱布拉娜·都柏林（幼龙，与本格选一开）\": true,\n  \"拉芙希妮·都柏林（幼龙，与本格、异格选一开）\": true,\n  \"司岁台\": true,\n  \"血魔大君\": true,\n  \"Miss.Christine\": true,\n  \"食腐者之王（本格，与898年选一开）\": true,\n  \"变形者集群\": true,\n  \"易（本格，与早年选一开）\": true,\n  \"弗莱蒙特（本格，与898年选一开）\": true,\n  \"多利\": true,\n  \"大祭司\": true,\n  \"终末地（非游玩时请关闭）\": false,\n  \"扎罗\": true,\n  \"锚定（有点用但不多）\": true,\n  \"罗素\": true,\n  \"乔万娜\": true,\n  \"伊斯\": true,\n  \"坎诺特\": true,\n  \"曼弗雷德\": true,\n  \"埃芒加德\": true,\n  \"隐德来希\": true,\n  \"空弦\": true,\n  \"维娜·维多利亚（异格，与本格推进之王选一开）\": false,\n  \"晓歌\": true,\n  \"卡莱莎\": true,\n  \"厄尔苏拉\": true,\n  \"苏苏洛\": true,\n  \"青枳\": true,\n  \"流明\": true,\n  \"寒芒克洛丝（异格，与本格选一开）\": false,\n  \"克洛丝（本格，与异格选一开）\": true,\n  \"极境\": true,\n  \"棘刺（本格，与异格选一开）\": true,\n  \"引星棘刺（异格，与本格选一开）\": false,\n  \"送葬人（本格，与幼年、异格选一开）\": false,\n  \"圣约送葬人（异格，与幼年、本格选一开）\": true,\n  \"安赛尔\": true,\n  \"预见末日的贤人（与Ama-10、凯尔希、巴别塔选一开）\": false,\n  \"杜宾\": true,\n  \"极光\": true,\n  \"傀影（本格，与酒神选一开）\": false,\n  \"酒神（异格，与本格傀影选一开）\": true,\n  \"“酒神”\": true,\n  \"蒂比\": true,\n  \"薄绿\": true,\n  \"Mantra\": true,\n  \"圣愚\": true,\n  \"管理员（同终末地条目）\": false,\n  \"陈千语（同终末地条目）\": false,\n  \"佩丽卡（同终末地条目）\": false,\n  \"伊冯（同终末地条目）\": false,\n  \"赛希（同终末地条目）\": false,\n  \"冬时\": true,\n  \"颉（整合了现有信息的先行版，非游玩时请关闭）\": false,\n  \"折桠\": true,\n  \"塞西莉亚\": true,\n  \"伊蒂达\": true,\n  \"槐琥\": true,\n  \"槐天裴\": true,\n  \"阿米娅（幼年，与本格、医疗、炉芯终曲选一开）\": false,\n  \"阿米娅·炉芯终曲（与幼年、本格、医疗选一开）\": false,\n  \"暴行\": true,\n  \"吽\": true,\n  \"阿\": true,\n  \"孑\": true,\n  \"董阿伯\": true,\n  \"阿消\": true,\n  \"天火\": true,\n  \"砾\": true,\n  \"深靛\": true,\n  \"蓝毒\": true,\n  \"芬（本格，与异格选一开）\": true,\n  \"历阵锐枪芬（异格，与本格选一开）\": false,\n  \"锡人\": true,\n  \"Ama-10（与凯尔希、巴别塔、预见末日的贤人选一开）\": false,\n  \"凯尔希（巴别塔，与Ama-10、本格、预见末日的贤人选一开）\": false,\n  \"希尔达\": true,\n  \"莫菲丝\": true,\n  \"特蕾西娅（898年，与本格、巴别塔、魔王选一开）\": false,\n  \"特蕾西娅（巴别塔，与本格、898年、魔王选一开）\": false,\n  \"特雷西斯（898年，与本格、内战选一开）\": false,\n  \"特雷西斯（内战，与本格、898年选一开）\": false,\n  \"蕾缪乐（幼年，与本格、异格选一开）\": false,\n  \"阿尔图罗·吉亚洛（幼年，与本格选一开）\": false,\n  \"费德里科·吉亚洛（幼年，与本格、异格选一开）\": false,\n  \"蕾缪安（少女，与本格选一开）\": false,\n  \"莫斯提马（少女，与本格选一开）\": false,\n  \"奎萨图什塔\": true,\n  \"萨卢斯\": true,\n  \"荒芜拉普兰德（无序的谦卑，与幼狼、本格、异格选一开）\": false,\n  \"朔（与本格重岳选一开）\": false,\n  \"望（早年，与本格选一开）\": false,\n  \"令（早年，与本格选一开）\": false,\n  \"黍（早年，与本格选一开）\": false,\n  \"绩（早年，与本格选一开）\": false,\n  \"易（早年，与本格选一开）\": false,\n  \"年（早年，与本格选一开）\": false,\n  \"夕（早年，与本格选一开）\": false,\n  \"余（早年，与本格选一开）\": false,\n  \"潘格尼尼\": true,\n  \"梦城堡\": true,\n  \"爱丽丝\": true,\n  \"贝娜\": true,\n  \"海沫\": true,\n  \"娜仁图亚\": true,\n  \"伺夜\": true,\n  \"信仰搅拌机\": true,\n  \"Ash\": true,\n  \"Ela\": true,\n  \"Lana\": true,\n  \"Frost（彩六）\": true,\n  \"弗莱蒙特（898年，与本格选一开）\": false,\n  \"贝尔莎（非游玩魔王开局请关闭）\": false,\n  \"大女妖（非游玩魔王开局时请关闭）\": false,\n  \"菈玛莲（898年，与本格选一开）\": false,\n  \"食腐者之王（898年，与本格选一开）\": false,\n  \"博卓卡斯替（与本格爱国者选一开）\": false,\n  \"Tachanka\": true,\n  \"Fuze\": true,\n  \"Doc\": true,\n  \"Blitz\": true,\n  \"玛露西尔\": true,\n  \"莱欧斯\": true,\n  \"森西\": true,\n  \"齐尔查克\": true,\n  \"罗小黑\": true,\n  \"Lancet-2\": true,\n  \"梓兰\": true,\n  \"老天师\": true,\n  \"泡普卡\": true,\n  \"基建材料\": true,\n  \"工业材料\": true,\n  \"太傅\": true,\n  \"驼兽\": true,\n  \"杜林（族）\": true,\n  \"际崖城\": true,\n  \"梅兰德基金会\": true,\n  \"太尉\": true,\n  \"菲亚梅塔（少女，与本格选一开）\": false,\n  \"切利尼娜·德克萨斯（幼狼，与本格、异格选一开）\": false,\n  \"拉普兰德·萨卢佐（幼狼，与本格、异格、无序的谦卑选一开）\": false,\n  \"阿尔贝托\": true,\n  \"聆音\": true,\n  \"埃莉丝（肉鸽仙人跳之萨科塔修女）\": true,\n  \"羽兽\": true,\n  \"瘤兽\": true,\n  \"沙地兽\": true,\n  \"裂兽\": true,\n  \"钳兽\": true,\n  \"云兽\": true,\n  \"循兽\": true,\n  \"鼷兽\": true,\n  \"锈锤\": true,\n  \"鲤氏侦探事务所\": true,\n  \"雷神工业\": true,\n  \"太阳谷机械工业\": true,\n  \"泰拉经济体系\": true,\n  \"泰拉货币体系\": true,\n  \"塔拉\": true,\n  \"高卢\": true,\n  \"“桥夹”克里夫\": true,\n  \"玻利瓦尔\": true,\n  \"米诺斯\": true,\n  \"雷姆必拓\": true,\n  \"约翰老妈\": true,\n  \"塔山生物科技\": true,\n  \"玫瑰报业联合集团\": true,\n  \"梁洵\": true,\n  \"宁辞秋\": true,\n  \"柳儿\": true,\n  \"奎隆·摩诃萨埵权化（佛祖，与本格选一开）\": false,\n  \"奎隆（本格，与佛祖选一开）\": true,\n  \"战力分级标准\": true,\n  \"阿纳萨\": true,\n  \"雅拉\": true,\n  \"梅厄斯\": true,\n  \"逐魇骑士\": true,\n  \"血骑士\": true,\n  \"凛御银灰（异格，与本格选一开）\": true,\n  \"圣聆初雪（异格，与本格选一开）\": true,\n  \"溯光星源（异格，与本格选一开）\": true,\n  \"焰尾\": true,\n  \"远牙\": true,\n  \"灰毫\": true,\n  \"野鬃\": true,\n  \"温蒂\": true,\n  \"嵯峨\": true,\n  \"帕拉斯\": true,\n  \"卡涅利安\": true,\n  \"蜜蜡\": true,\n  \"异客\": true,\n  \"山\": true,\n  \"赫拉格\": true,\n  \"娜斯提\": true,\n  \"黑键\": true,\n  \"止颂\": true,\n  \"鬼\": true,\n  \"瑰盐\": true,\n  \"空构\": true,\n  \"桑葚\": true,\n  \"安多恩\": true,\n  \"洁尔佩塔（同终末地条目）\": false,\n  \"艾尔黛拉（同终末地条目）\": false,\n  \"昼雪（同终末地条目）\": false,\n  \"骏卫（同终末地条目）\": false,\n  \"余烬（同终末地条目）\": false,\n  \"（UI插件）返回键\": false,\n  \"（UI插件）开场美化\": false,\n  \"（上下文优化插件）EJS部分(注意设置扫描深度 = 0)\": false,\n  \"（插件通用）[InitVar]\": false,\n  \"絮雨\": true,\n  \"九色鹿\": true,\n  \"构史成真了喵（非游玩时请关闭喵）\": false,\n  \"红豆\": true,\n  \"深池\": true,\n  \"“校官”\": true,\n  \"“禁军小教头”\": true,\n  \"安纳斯塔西奥\": true,\n  \"峯驰物流\": true,\n  \"日落即逝\": true,\n  \"海蒂\": true,\n  \"调香师\": true,\n  \"火神\": true,\n  \"豆苗\": true,\n  \"淬羽赫默（异格，与本格选一开）\": true,\n  \"香草\": true,\n  \"太古集团\": true,\n  \"拜松\": true,\n  \"欧厄尔\": true,\n  \"贾维\": true,\n  \"布洛卡\": true,\n  \"奥斯塔\": true,\n  \"“正义骑士号”\": true,\n  \"水灯心\": true,\n  \"芙蓉（本格，与异格选一开）\": true,\n  \"濯尘芙蓉（异格，与本格选一开）\": false,\n  \"白垩\": true,\n  \"炎熔（本格，与异格选一开）\": true,\n  \"炎狱炎熔（异格，与本格选一开）\": false,\n  \"米格鲁\": true,\n  \"珀茜瓦尔\": true,\n  \"莉泽洛特\": true,\n  \"雷德\": true,\n  \"梅希亚\": true,\n  \"天空盒\": true,\n  \"澪\": true,\n  \"三船光平\": true,\n  \"斐尔迪南\": true,\n  \"小贾斯汀\": true,\n  \"杰斯顿\": true,\n  \"莫妮克\": true,\n  \"罗伊\": true,\n  \"炎客\": true,\n  \"芳汀\": true,\n  \"巫恋\": true,\n  \"卡夫卡\": true,\n  \"杏仁\": true,\n  \"四月\": true,\n  \"“灰礼帽”\": true,\n  \"灰喉\": true,\n  \"空爆\": true,\n  \"月见夜\": true,\n  \"斑点\": true,\n  \"贝林厄姆\": true,\n  \"Aya\": true,\n  \"Alty\": true,\n  \"Dan\": true,\n  \"Frost（日落即逝）\": true,\n  \"伊万杰利斯塔十一世\": true\n};\n","// Auto-generated by references/tools/generate_baseline.mjs\n// Source: references/tools/昨夜圆车.yaml\n\nexport const SINGLE_CHAR_ENTRIES: string[] = [\n  \"W（本格，与维什戴尔选一开）\",\n  \"陈（本格，与异格选一开）\",\n  \"空\",\n  \"林\",\n  \"望（本格，与早年选一开）\",\n  \"锏\",\n  \"黑\",\n  \"煌（本格，与异格选一开）\",\n  \"若叶睦（本格，与卡特斯选一开）\",\n  \"红\",\n  \"鼠王\",\n  \"年（本格，与早年选一开）\",\n  \"夕（本格，与早年选一开）\",\n  \"令（本格，与早年选一开）\",\n  \"黍（本格，与早年选一开）\",\n  \"余（本格，与早年选一开）\",\n  \"重岳（本格，与朔选一开）\",\n  \"九\",\n  \"绩（本格，与早年选一开）\",\n  \"若叶睦（卡特斯，与本格选一开）\",\n  \"睚\",\n  \"烛煌（异格，与本格选一开）\",\n  \"遥\",\n  \"假日威龙陈（异格，与本格选一开）\",\n  \"宴\",\n  \"易（本格，与早年选一开）\",\n  \"颉（整合了现有信息的先行版，非游玩时请关闭）\",\n  \"吽\",\n  \"阿\",\n  \"孑\",\n  \"砾\",\n  \"芬（本格，与异格选一开）\",\n  \"历阵锐枪芬（异格，与本格选一开）\",\n  \"朔（与本格重岳选一开）\",\n  \"望（早年，与本格选一开）\",\n  \"令（早年，与本格选一开）\",\n  \"黍（早年，与本格选一开）\",\n  \"绩（早年，与本格选一开）\",\n  \"易（早年，与本格选一开）\",\n  \"年（早年，与本格选一开）\",\n  \"夕（早年，与本格选一开）\",\n  \"余（早年，与本格选一开）\",\n  \"山\",\n  \"澪\"\n];\n","import { BASELINE_STATE } from '../config/baseline';\r\nimport { STARTUP_SCENARIOS } from '../config/scenarios';\r\nimport { SINGLE_CHAR_ENTRIES } from '../config/single_char_entries';\r\n\r\n// Helper to find the current character's worldbook\r\nasync function getTargetWorldbookName(): Promise<string> {\r\n  try {\r\n    const result = await getCharWorldbookNames('current');\r\n    if (result.primary) return result.primary;\r\n    if (result.additional && result.additional.length > 0) return result.additional[0];\r\n    throw new Error('未找到当前角色绑定的世界书');\r\n  } catch (error) {\r\n    console.error('[ARK_Manager] Failed to get target worldbook:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport type WorldbookStatus = 'original' | 'single_char_closed' | 'modified';\r\n\r\nexport const WorldbookManager = {\r\n  /**\r\n   * Get the current status of the Worldbook compared to Baseline\r\n   */\r\n  async getWorldbookStatus(): Promise<WorldbookStatus> {\r\n    try {\r\n      const targetBook = await getTargetWorldbookName();\r\n      const entries = await getWorldbook(targetBook);\r\n      \r\n      let isOriginal = true;\r\n      let isSingleCharClosed = true;\r\n\r\n      // Iterate only over keys present in BASELINE_STATE (Ignore user added entries)\r\n      for (const key of Object.keys(BASELINE_STATE)) {\r\n        const entry = entries.find(e => e.name === key);\r\n        if (!entry) continue; // Skip if entry missing in current book (shouldn't happen often)\r\n\r\n        const baselineEnabled = BASELINE_STATE[key];\r\n        const currentEnabled = entry.enabled;\r\n\r\n        // Check for 'original' mismatch\r\n        if (currentEnabled !== baselineEnabled) {\r\n          isOriginal = false;\r\n        }\r\n\r\n        // Check for 'single_char_closed' logic\r\n        const isSingleChar = SINGLE_CHAR_ENTRIES.includes(key);\r\n        if (isSingleChar) {\r\n            // For single char closed state, this MUST be false\r\n            if (currentEnabled !== false) {\r\n                isSingleCharClosed = false;\r\n            }\r\n        } else {\r\n            // For non-single char, it MUST match baseline\r\n            if (currentEnabled !== baselineEnabled) {\r\n                isSingleCharClosed = false;\r\n            }\r\n        }\r\n      }\r\n\r\n      if (isOriginal) return 'original';\r\n      if (isSingleCharClosed) return 'single_char_closed';\r\n      return 'modified';\r\n\r\n    } catch (error) {\r\n      console.error('[ARK_Manager] Get Status failed:', error);\r\n      return 'modified'; // Default to modified on error for safety\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Reset Worldbook to its baseline state\r\n   */\r\n  async resetToBaseline(): Promise<void> {\r\n    console.info('[ARK_Manager] Resetting Worldbook to Baseline...');\r\n    try {\r\n      const targetBook = await getTargetWorldbookName();\r\n      await updateWorldbookWith(targetBook, (entries) => {\r\n        entries.forEach(entry => {\r\n          if (entry.name && BASELINE_STATE.hasOwnProperty(entry.name)) {\r\n            entry.enabled = BASELINE_STATE[entry.name];\r\n          }\r\n        });\r\n        return entries;\r\n      });\r\n      toastr.success('世界书已重置为初始状态');\r\n    } catch (error) {\r\n      console.error('[ARK_Manager] Reset failed:', error);\r\n      toastr.error('世界书重置失败: ' + (error as Error).message);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Apply a specific scenario\r\n   * Warning: This throws an error if status is 'modified', caller must handle confirmation.\r\n   */\r\n  async applyScenario(swipeId: number, force: boolean = false): Promise<void> {\r\n    if (!force) {\r\n        const status = await this.getWorldbookStatus();\r\n        if (status === 'modified') {\r\n            throw new Error('STATUS_MODIFIED');\r\n        }\r\n    }\r\n\r\n    const scenario = STARTUP_SCENARIOS.find(s => s.swipeId === swipeId);\r\n    if (!scenario) {\r\n      console.error(`[ARK_Manager] Scenario #${swipeId} not found.`);\r\n      return;\r\n    }\r\n\r\n    console.info(`[ARK_Manager] Applying Scenario: ${scenario.title}`);\r\n    toastr.info(`正在应用开局设置: ${scenario.title}...`);\r\n\r\n    try {\r\n      const targetBook = await getTargetWorldbookName();\r\n      await updateWorldbookWith(targetBook, (entries) => {\r\n        entries.forEach(entry => {\r\n          const name = entry.name;\r\n          if (!name) return;\r\n\r\n          // Note: We DO NOT reset to baseline here. We only apply deltas.\r\n          \r\n          // 1. Apply Enable Delta\r\n          if (scenario.linkedWorldInfo.includes(name)) {\r\n            entry.enabled = true;\r\n          }\r\n\r\n          // 2. Apply Disable Delta\r\n          if (scenario.disabledWorldInfo && scenario.disabledWorldInfo.includes(name)) {\r\n            entry.enabled = false;\r\n          }\r\n        });\r\n        return entries;\r\n      });\r\n      \r\n      toastr.success(`开局设置应用成功`);\r\n      console.info('[ARK_Manager] Scenario applied successfully.');\r\n\r\n    } catch (error) {\r\n      console.error('[ARK_Manager] Apply Scenario failed:', error);\r\n      toastr.error('应用开局失败: ' + (error as Error).message);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Close all single-character entries\r\n   */\r\n  async closeSingleCharEntries(): Promise<void> {\r\n    console.info('[ARK_Manager] Closing all single-character entries...');\r\n    try {\r\n      const targetBook = await getTargetWorldbookName();\r\n      await updateWorldbookWith(targetBook, (entries) => {\r\n        entries.forEach(entry => {\r\n          if (entry.name && SINGLE_CHAR_ENTRIES.includes(entry.name)) {\r\n            entry.enabled = false;\r\n          }\r\n        });\r\n        return entries;\r\n      });\r\n      toastr.success('已关闭所有单字条目');\r\n    } catch (error) {\r\n      console.error('[ARK_Manager] Bulk close failed:', error);\r\n      toastr.error('操作失败: ' + (error as Error).message);\r\n    }\r\n  }\r\n};","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, unref as _unref, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = { class: \"main-container\" };\nconst _hoisted_2 = { class: \"content-wrapper\" };\nconst _hoisted_3 = { class: \"header-section\" };\nconst _hoisted_4 = { class: \"arknights-logo-container\" };\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = { class: \"opening-section\" };\nconst _hoisted_7 = { class: \"opening-grid\" };\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = { class: \"opening-title\" };\nconst _hoisted_10 = {\n    key: 0,\n    class: \"opening-info\"\n};\nconst _hoisted_11 = {\n    key: 1,\n    class: \"opening-info\"\n};\nconst _hoisted_12 = { class: \"status-value\" };\nconst _hoisted_13 = { class: \"theme-buttons-container\" };\nimport { onMounted, ref } from 'vue';\nimport { ASSETS } from '../config/assets';\nimport { STARTUP_SCENARIOS } from '../config/scenarios';\nimport { WorldbookManager } from '../logic/worldbook_manager';\n\nimport { computed } from 'vue';\n// Constants\nconst STORAGE_KEY_THEME = 'ark_statusbar_theme';\n// State\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'StartupNavigator',\n    setup(__props) {\n        const scenarios = ref(STARTUP_SCENARIOS);\n        const theme = ref('dark');\n        const isSettingsOpen = ref(false);\n        const wbStatus = ref('original');\n        // Computed\n        const wbStatusText = computed(() => {\n            switch (wbStatus.value) {\n                case 'original': return '初始状态';\n                case 'single_char_closed': return '单字屏蔽';\n                case 'modified': return '非标修改';\n                default: return '未知状态';\n            }\n        });\n        const wbStatusClass = computed(() => {\n            switch (wbStatus.value) {\n                case 'original': return 'status-green';\n                case 'single_char_closed': return 'status-blue';\n                case 'modified': return 'status-orange';\n                default: return 'status-gray';\n            }\n        });\n        // Methods\n        const toggleSettings = () => {\n            isSettingsOpen.value = !isSettingsOpen.value;\n            // Refresh status when opening settings\n            if (isSettingsOpen.value) {\n                checkWbStatus();\n            }\n        };\n        const setTheme = (newTheme) => {\n            theme.value = newTheme;\n            localStorage.setItem(STORAGE_KEY_THEME, newTheme);\n        };\n        const checkWbStatus = async () => {\n            wbStatus.value = await WorldbookManager.getWorldbookStatus();\n        };\n        const handleCloseSingleChar = async () => {\n            await WorldbookManager.closeSingleCharEntries();\n            await checkWbStatus();\n        };\n        const handleRestoreWorldbook = async () => {\n            if (confirm('确定要将世界书重置为初始状态吗？这将丢失所有自定义修改。')) {\n                await WorldbookManager.resetToBaseline();\n                await checkWbStatus();\n            }\n        };\n        // Initialize\n        onMounted(() => {\n            const savedTheme = localStorage.getItem(STORAGE_KEY_THEME);\n            if (savedTheme === 'light' || savedTheme === 'dark') {\n                theme.value = savedTheme;\n            }\n            checkWbStatus();\n        });\n        const handleScenarioClick = async (scenario) => {\n            try {\n                // 1. Apply Worldbook Logic\n                try {\n                    await WorldbookManager.applyScenario(scenario.swipeId);\n                }\n                catch (e) {\n                    if (e.message === 'STATUS_MODIFIED') {\n                        if (confirm('检测到世界书包含非标准修改（可能是您手动开启了某些条目）。\\n直接跳转开局可能会在当前基础上叠加设置，导致状态混乱。\\n\\n是否继续？')) {\n                            await WorldbookManager.applyScenario(scenario.swipeId, true); // Force apply\n                        }\n                        else {\n                            return; // User cancelled\n                        }\n                    }\n                    else {\n                        throw e;\n                    }\n                }\n                // Update status after apply\n                await checkWbStatus();\n                // 2. Switch Swipe (Legacy Logic)\n                // We assume SillyTavern global is available\n                if (typeof SillyTavern === 'undefined' || !SillyTavern.chat) {\n                    throw new Error('SillyTavern environment not found.');\n                }\n                const firstMessage = SillyTavern.chat[0];\n                if (!firstMessage || !firstMessage.swipes || typeof firstMessage.swipes[scenario.swipeId] !== 'string') {\n                    throw new Error(`Swipe #${scenario.swipeId} content not found.`);\n                }\n                console.info(`[Startup] Switching to Swipe #${scenario.swipeId}`);\n                // Update the message content to the selected swipe\n                firstMessage.swipe_id = scenario.swipeId;\n                firstMessage.mes = firstMessage.swipes[scenario.swipeId];\n                // Save and Reload\n                await SillyTavern.saveChat();\n                await SillyTavern.reloadCurrentChat();\n            }\n            catch (error) {\n                console.error('[Startup] Failed to apply scenario:', error);\n                toastr.error('切换开局失败: ' + error.message);\n            }\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"ark-startup-container\", { 'dark-theme': theme.value === 'dark' }])\n            }, [\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _createCommentVNode(\" Header Section \"),\n                        _createElementVNode(\"div\", _hoisted_3, [\n                            _createElementVNode(\"div\", _hoisted_4, [\n                                _createElementVNode(\"img\", {\n                                    src: _unref(ASSETS).LOGO_URL,\n                                    alt: \"Arknights Logo\",\n                                    class: \"arknights-logo\"\n                                }, null, 8 /* PROPS */, _hoisted_5)\n                            ]),\n                            _cache[3] || (_cache[3] = _createElementVNode(\"p\", { class: \"author-info\" }, \"初版作者：打不准的豌豆射手 | v版作者：F.o.x.i.o\", -1 /* CACHED */)),\n                            _cache[4] || (_cache[4] = _createElementVNode(\"p\", { class: \"author-info\" }, \"UI重构：ARK_STATUSBAR Project\", -1 /* CACHED */))\n                        ]),\n                        _cache[7] || (_cache[7] = _createStaticVNode(\"<div class=\\\"copyright-notice\\\" data-v-48aca5cd><strong data-v-48aca5cd>版权声明</strong><br data-v-48aca5cd> 本卡完全免费，永远禁止商业化行为，如果您是购买获得，请立即退款并向购买平台举报贩卖者，维护创作者和您自身的权益。 </div><div class=\\\"usage-instructions\\\" data-v-48aca5cd><strong data-v-48aca5cd>使用说明</strong><br data-v-48aca5cd> 请第一次使用本角色卡的用户，务必前往最后一个开局阅读<strong style=\\\"color:var(--warning-accent);\\\" data-v-48aca5cd>“狐の言（在首次游玩前请一定要看！）”</strong>。<br data-v-48aca5cd> 若需管理单字干员或重置世界书状态，请点击右下角按钮打开侧边栏进行操作。 </div><div class=\\\"section-title\\\" data-v-48aca5cd>◆ 简介</div><p class=\\\"intro-desc\\\" data-v-48aca5cd> 从先史文明的终焉开始，到萨卡兹的第一位魔王，再到移动城市的拔地而起……<br data-v-48aca5cd> 如今的泰拉已经历经许多，源石将诅咒与馈赠印刻于这片大地，列国的城邦永无止境地在天灾轨迹中迁徙，感染者的悲鸣与帝国的号角于风雪中交织，仇恨浸染大地，而希望亦如天光。<br data-v-48aca5cd> 现在，你来到于此。<br data-v-48aca5cd> 你将作何抉择？你将行向何方？<br data-v-48aca5cd> 你是……谁？ </p>\", 4)),\n                        _createCommentVNode(\" Scenarios Grid \"),\n                        _cache[8] || (_cache[8] = _createElementVNode(\"div\", { class: \"section-title\" }, \"◆ 点击—开启故事\", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                            _createElementVNode(\"div\", _hoisted_7, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(scenarios.value, (scenario) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: scenario.swipeId,\n                                        class: \"opening-card\",\n                                        onClick: ($event) => (handleScenarioClick(scenario))\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_9, _toDisplayString(scenario.title), 1 /* TEXT */),\n                                        _createCommentVNode(\" Decorational Info \"),\n                                        (scenario.linkedWorldInfo && scenario.linkedWorldInfo.length > 0)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                                                _cache[5] || (_cache[5] = _createElementVNode(\"span\", { class: \"info-label\" }, \"开启:\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(scenario.linkedWorldInfo.slice(0, 3).join(', ')) + _toDisplayString(scenario.linkedWorldInfo.length > 3 ? '...' : ''), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        (scenario.disabledWorldInfo && scenario.disabledWorldInfo.length > 0)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                                                _cache[6] || (_cache[6] = _createElementVNode(\"span\", { class: \"info-label\" }, \"关闭:\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(scenario.disabledWorldInfo.slice(0, 3).join(', ')) + _toDisplayString(scenario.disabledWorldInfo.length > 3 ? '...' : ''), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true)\n                                    ], 8 /* PROPS */, _hoisted_8));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                        ])\n                    ]),\n                    _createCommentVNode(\" Settings Toggle \"),\n                    _createElementVNode(\"div\", {\n                        class: _normalizeClass([\"settings-tab\", { 'is-open': isSettingsOpen.value }]),\n                        onClick: toggleSettings\n                    }, [...(_cache[9] || (_cache[9] = [\n                            _createElementVNode(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                height: \"24px\",\n                                viewBox: \"0 0 24 24\",\n                                width: \"24px\",\n                                fill: \"currentColor\"\n                            }, [\n                                _createElementVNode(\"path\", {\n                                    d: \"M0 0h24v24H0V0z\",\n                                    fill: \"none\"\n                                }),\n                                _createElementVNode(\"path\", { d: \"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12-.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\" })\n                            ], -1 /* CACHED */)\n                        ]))], 2 /* CLASS */),\n                    _createCommentVNode(\" Settings Overlay (Mobile Backdrop) \"),\n                    (isSettingsOpen.value)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 0,\n                            class: \"settings-overlay\",\n                            onClick: _cache[0] || (_cache[0] = ($event) => (isSettingsOpen.value = false))\n                        }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\" Settings Panel \"),\n                    _createElementVNode(\"div\", {\n                        class: _normalizeClass([\"settings-panel\", { 'is-open': isSettingsOpen.value }])\n                    }, [\n                        _cache[16] || (_cache[16] = _createElementVNode(\"h3\", null, \"世界书控制\", -1 /* CACHED */)),\n                        _createElementVNode(\"div\", {\n                            class: _normalizeClass([\"wb-status-display\", _unref(wbStatusClass)])\n                        }, [\n                            _cache[10] || (_cache[10] = _createElementVNode(\"div\", { class: \"status-label\" }, \"SYSTEM STATUS\", -1 /* CACHED */)),\n                            _createElementVNode(\"div\", _hoisted_12, _toDisplayString(_unref(wbStatusText)), 1 /* TEXT */),\n                            _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"status-decor\" }, null, -1 /* CACHED */))\n                        ], 2 /* CLASS */),\n                        _createElementVNode(\"div\", { class: \"wb-actions\" }, [\n                            _createElementVNode(\"div\", {\n                                class: \"ark-btn warning\",\n                                onClick: handleCloseSingleChar\n                            }, [...(_cache[12] || (_cache[12] = [\n                                    _createElementVNode(\"div\", { class: \"btn-content\" }, [\n                                        _createElementVNode(\"span\", { class: \"btn-icon\" }, \"⚡\"),\n                                        _createElementVNode(\"span\", { class: \"btn-text\" }, \"屏蔽单字干员\")\n                                    ], -1 /* CACHED */),\n                                    _createElementVNode(\"div\", { class: \"btn-decor\" }, null, -1 /* CACHED */)\n                                ]))]),\n                            _createElementVNode(\"div\", {\n                                class: \"ark-btn danger\",\n                                onClick: handleRestoreWorldbook\n                            }, [...(_cache[13] || (_cache[13] = [\n                                    _createElementVNode(\"div\", { class: \"btn-content\" }, [\n                                        _createElementVNode(\"span\", { class: \"btn-icon\" }, \"↺\"),\n                                        _createElementVNode(\"span\", { class: \"btn-text\" }, \"还原世界书\")\n                                    ], -1 /* CACHED */),\n                                    _createElementVNode(\"div\", { class: \"btn-decor\" }, null, -1 /* CACHED */)\n                                ]))])\n                        ]),\n                        _cache[17] || (_cache[17] = _createStaticVNode(\"<div id=\\\"wb-control-hint\\\" class=\\\"warning-box\\\" data-v-48aca5cd><strong style=\\\"color:orange;\\\" data-v-48aca5cd>[!] 世界书管理提示</strong><p style=\\\"font-size:0.85em;margin-top:5px;line-height:1.6;\\\" data-v-48aca5cd> 本面板会智能识别并管理当前角色的世界书状态。 </p><p style=\\\"font-size:0.85em;margin-top:5px;line-height:1.6;\\\" data-v-48aca5cd> 若您手动修改了世界书（如自行开启了某些条目），状态将显示为<strong style=\\\"color:#FF9800;\\\" data-v-48aca5cd>“已修改”</strong>。此时切换开局可能会触发冲突警告，请按需选择继续或重置。 </p></div><div class=\\\"settings-divider\\\" data-v-48aca5cd></div><h3 data-v-48aca5cd>页面主题</h3>\", 3)),\n                        _createElementVNode(\"div\", _hoisted_13, [\n                            _createElementVNode(\"div\", {\n                                class: _normalizeClass([\"theme-button light\", { active: theme.value === 'light' }]),\n                                onClick: _cache[1] || (_cache[1] = ($event) => (setTheme('light')))\n                            }, [...(_cache[14] || (_cache[14] = [\n                                    _createElementVNode(\"span\", null, \"默认\", -1 /* CACHED */)\n                                ]))], 2 /* CLASS */),\n                            _createElementVNode(\"div\", {\n                                class: _normalizeClass([\"theme-button dark\", { active: theme.value === 'dark' }]),\n                                onClick: _cache[2] || (_cache[2] = ($event) => (setTheme('dark')))\n                            }, [...(_cache[15] || (_cache[15] = [\n                                    _createElementVNode(\"span\", null, \"夜间\", -1 /* CACHED */)\n                                ]))], 2 /* CLASS */)\n                        ])\n                    ], 2 /* CLASS */)\n                ])\n            ], 2 /* CLASS */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./StartupNavigator.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./StartupNavigator.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./StartupNavigator.vue?vue&type=style&index=0&id=48aca5cd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-48aca5cd\"]])\n\nexport default __exports__","import { createApp } from 'vue';\r\nimport { deteleportStyle, teleportStyle } from '../util/script';\r\nimport ReturnButton from './components/ReturnButton.vue';\r\nimport StartupNavigator from './components/StartupNavigator.vue';\r\n\r\n// Global styles\r\nimport './components/StartupNavigator.vue';\r\n\r\nconst MOUNT_INTERVAL_MS = 500;\r\nconst STARTUP_CONTAINER_CLASS = 'ark-startup-mount-point';\r\nconst RETURN_BTN_CONTAINER_CLASS = 'ark-return-btn-mount-point';\r\n\r\n/**\r\n * Main mounting logic loop\r\n */\r\nconst startMountingLoop = () => {\r\n  setInterval(() => {\r\n    try {\r\n      if (typeof SillyTavern === 'undefined' || !SillyTavern.chat) {\r\n        return; // Not ready\r\n      }\r\n\r\n      // 1. Target First Message\r\n      // We use jQuery because it's available and easy for legacy DOM access\r\n      const $message0 = $('#chat > .mes[mesid=\"0\"]');\r\n      if ($message0.length === 0) return;\r\n\r\n      const isUser = $message0.attr('is_user') === 'true';\r\n      if (isUser) return; // Only AI messages for Startup/Return\r\n\r\n      const $mesText = $message0.find('.mes_text');\r\n      if ($mesText.length === 0) return;\r\n\r\n      // 2. Check Swipe ID\r\n      // SillyTavern.chat[0] source of truth\r\n      const firstMessage = SillyTavern.chat[0];\r\n      const swipeId = firstMessage.swipe_id || 0;\r\n\r\n      // 3. Mount Logic\r\n      if (swipeId === 0) {\r\n        // --- STARTUP MODE ---\r\n        // Ensure Return Button is NOT present (cleanup if needed? DOM is usually wiped on swipe change, but safe to check)\r\n        if ($mesText.find(`.${RETURN_BTN_CONTAINER_CLASS}`).length > 0) {\r\n          $mesText.find(`.${RETURN_BTN_CONTAINER_CLASS}`).remove();\r\n        }\r\n\r\n        // Check if Startup is already mounted\r\n        if ($mesText.find(`.${STARTUP_CONTAINER_CLASS}`).length === 0) {\r\n          console.info('[ARK_STATUSBAR] Mounting Startup Navigator...');\r\n          \r\n          // Clean up existing content (backup html) before mounting\r\n          $mesText.empty();\r\n\r\n          const mountPoint = document.createElement('div');\r\n          mountPoint.className = STARTUP_CONTAINER_CLASS;\r\n          $mesText.append(mountPoint);\r\n          createApp(StartupNavigator).mount(mountPoint);\r\n        }\r\n\r\n      } else {\r\n        // --- STORY MODE (Return Button) ---\r\n        // Ensure Startup is NOT present\r\n        if ($mesText.find(`.${STARTUP_CONTAINER_CLASS}`).length > 0) {\r\n           // We generally assume that if we are switching modes, the message content will be refreshed by the backend/reload\r\n           // But if we are just hot-swapping:\r\n           $mesText.find(`.${STARTUP_CONTAINER_CLASS}`).remove();\r\n        }\r\n\r\n        // Check if Return Button is already mounted\r\n        if ($mesText.find(`.${RETURN_BTN_CONTAINER_CLASS}`).length === 0) {\r\n           console.info('[ARK_STATUSBAR] Mounting Return Button...');\r\n           \r\n           // Return Button should APPEND to existing content, NOT overwrite it.\r\n           // Only Startup Navigator overwrites the content.\r\n           \r\n           const mountPoint = document.createElement('div');\r\n           mountPoint.className = RETURN_BTN_CONTAINER_CLASS;\r\n           $mesText.append(mountPoint);\r\n           createApp(ReturnButton).mount(mountPoint);\r\n        }\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('[ARK_STATUSBAR] Mounting loop error:', error);\r\n    }\r\n  }, MOUNT_INTERVAL_MS);\r\n};\r\n\r\n// Start the loop when the script loads\r\n$(() => {\r\n  console.info('[ARK_STATUSBAR] Module Loaded. Starting mount loop...');\r\n  \r\n  // Fix: Teleport styles from iframe to main window\r\n  teleportStyle();\r\n\r\n  startMountingLoop();\r\n});\r\n\r\n// Cleanup on unload\r\n$(window).on('pagehide', () => {\r\n  deteleportStyle();\r\n});","export async function loadReadme(url: string): Promise<boolean> {\n  const readme = await fetch(url);\n  if (!readme.ok) {\n    return false;\n  }\n  const readme_text = await readme.text();\n  replaceScriptInfo(readme_text);\n  return true;\n}\n\nexport function teleportStyle() {\n  if ($(`head > div[script_id=\"${getScriptId()}\"]`).length > 0) {\n    return;\n  }\n  const $div = $(`<div>`).attr('script_id', getScriptId()).append($(`head > style`, document).clone());\n  $('head').append($div);\n}\n\nexport function deteleportStyle() {\n  $(`head > div[script_id=\"${getScriptId()}\"]`).remove();\n}\n\nexport function createScriptIdDiv(): JQuery<HTMLDivElement> {\n  return $('<div>').attr('script_id', getScriptId()) as JQuery<HTMLDivElement>;\n}\n\nexport function destroyScriptIdDiv(): void {\n  $(`div[script_id=\"${getScriptId()}\"]`).remove();\n}\n\nexport function reloadOnChatChange(): EventOnReturn {\n  let chat_id = SillyTavern.getCurrentChatId();\n  return eventOn(tavern_events.CHAT_CHANGED, new_chat_id => {\n    if (chat_id !== new_chat_id) {\n      chat_id = new_chat_id;\n      window.location.reload();\n    }\n  });\n}\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","listToStyles","parentId","list","styles","newStyles","i","length","item","part","css","media","sourceMap","parts","hasDocument","document","DEBUG","Error","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","options","ssrIdKey","isOldIE","navigator","test","userAgent","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","j","addStyle","createStyleElement","styleElement","createElement","type","appendChild","obj","update","remove","querySelector","parentNode","removeChild","styleIndex","applyToSingletonTag","bind","applyToTag","newObj","textStore","replaceText","index","replacement","filter","Boolean","join","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","sources","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","exports","content","cssMapping","base64","data","concat","sourceMapping","sfc","props","target","__vccOpts","key","val","__esModule","default","locals","add","cssWithMappingToString","toString","this","map","needLayer","modules","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","Vue","__name","setup","__props","handleReturn","async","SillyTavern","chat","firstMessage","targetSwipeId","swipes","console","info","swipe_id","mes","saveChat","reloadCurrentChat","error","toastr","message","_ctx","_cache","class","onClick","ASSETS","LOGO_URL","STARTUP_SCENARIOS","BASELINE_STATE","SINGLE_CHAR_ENTRIES","getTargetWorldbookName","result","getCharWorldbookNames","primary","additional","WorldbookManager","getWorldbookStatus","targetBook","entries","getWorldbook","isOriginal","isSingleCharClosed","keys","entry","find","e","name","baselineEnabled","currentEnabled","enabled","includes","resetToBaseline","updateWorldbookWith","forEach","success","applyScenario","swipeId","force","scenario","s","title","linkedWorldInfo","disabledWorldInfo","closeSingleCharEntries","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","STORAGE_KEY_THEME","scenarios","ref","theme","isSettingsOpen","wbStatus","wbStatusText","computed","wbStatusClass","toggleSettings","checkWbStatus","setTheme","newTheme","localStorage","setItem","handleCloseSingleChar","handleRestoreWorldbook","confirm","onMounted","savedTheme","getItem","src","alt","$event","slice","xmlns","height","viewBox","width","fill","active","STARTUP_CONTAINER_CLASS","RETURN_BTN_CONTAINER_CLASS","$","getScriptId","$div","attr","append","clone","teleportStyle","setInterval","$message0","$mesText","empty","mountPoint","className","createApp","StartupNavigator","mount","ReturnButton","window","on"],"ignoreList":[],"sourceRoot":""}